{"version":3,"sources":["api/api.js","components/Common/FormsControl.js","redux/dialogsPageReducer.js","images/Spinner-1s-200px.svg","components/Common/Preloader/Preloader.module.css","images/reload.png","components/Profil/Description/ProfileDataReduxForm.js","components/Header/Navbar/NavBar.js","components/utilits/objectsHelper.js","redux/usersPageReducer.js","components/Common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/appReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/Header/Navbar/NavBar.module.css","components/Common/FormsControl.module.css","components/Users/User.module.css","components/Login/Login.module.css","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.module.css","components/utilits/validators.js","components/Users/Users.module.css","components/Header/Header.module.css","images/users-vector-icon-png_260862.jpg","components/Profil/Description/ProfileDataReduxForm.module.css","redux/profilePageReducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","sizePage","get","then","response","data","unfollowUsers","id","delete","followUsers","post","authAPI","getAuthUserData","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","profileAPI","getUserProfile","userId","getUserStatus","updateUserStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","dialogsApi","getDialogs","getMessages","startDialog","sendMessage","message","body","FormControl","input","meta","props","hasError","touched","error","className","styles","children","Input","restProps","createField","name","placeholder","component","validators","text","validate","GET_DIALOGS_SUCCESS","GET_MESSAGES_SUCCESS","SEND_MESSAGE_SUCCESS","PUT_UP_DIALOG","initialState","dialogs","messages","selectedDialogId","putUpDialog","type","setCurrentDialog","payload","sendMessageSuccess","dispatch","a","async","items","getState","find","d","init","update","dialogsPageReducer","state","action","filter","module","exports","ProfileDataReduxForm","reduxForm","form","handleSubmit","s","content","onSubmit","loginError","lookForJob","NavBar","navBarWrapper","item","to","activeClassName","activeLink","updateObjectInArray","itemsId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGES","TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalCountItems","isFetching","followingInProgress","portionSize","setIsFetching","setFollowingInProgress","followUnFollowFlow","apiMethod","actionCreator","resultCode","usersPageReducer","followed","pageNumber","countUsers","Paginator","onSetPages","countPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftBorderPortion","rightBorderPortion","wrapper","prevBtn","onClick","p","usersPage","activePage","nextBtn","User","photos","unFollow","follow","user","photo","src","small","userPhoto","unfBtn","disabled","some","follBtn","fullName","Users","paginator","getTotalCountUsers","getSizePage","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","connect","followSuccess","unFollowSuccess","totalCount","Header","header","headerContent","loginWrapper","isAuth","loginContent","alt","style","color","fontWeight","fontSize","SET_USER_DATA","SET_CAPTCHA_SUCCESS","captchaUrl","setAuthUserData","setCaptcha","url","authReducer","HeaderContainer","getAuthUserProfile","auth","LoginReduxForm","styleLogin","loginForm","required","checkbox","reload","reloadImg","loginBtn","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profilePageReducer","dialogsPage","formReducer","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","compose","withRouter","promise","Promise","all","SocialApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SAVE_PHOTO","posts","likeCounts","addPost","newTextPost","setUserStatus","deletePost","postId","reject"],"mappings":"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","file":"static/js/main.01c91065.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '59ead4fb-0c13-4727-ad30-0a30cf50ed9b'\r\n    }\r\n})\r\n\r\nexport const usersAPI ={\r\n    getUsers: (currentPage, sizePage) => {\r\n        return instance.get(`users?page=${currentPage}&count=${sizePage}`,\r\n        ).then(response=> {\r\n            return  response.data\r\n        })\r\n    },\r\n    unfollowUsers: (id)=>{\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    followUsers: (id)=>{\r\n        return instance.post(`follow/${id}`, {})\r\n    }\r\n};\r\n\r\nexport const authAPI ={\r\n    getAuthUserData: () => {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login: (email, password, rememberMe, captcha=null) => {\r\n      return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout: () => {\r\n      return instance.delete(`auth/login`)\r\n    },\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha: () => {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile: (userId) => {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getUserStatus: (userId) => {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus: (status) => {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto: (file) => {\r\n        const formData = new FormData ();\r\n        formData.append('image', file);\r\n        return instance.put (`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile: (profile) => {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n\r\nexport const dialogsApi = {\r\n    getDialogs(){\r\n        return instance.get('dialogs')\r\n    },\r\n    getMessages(userId){\r\n        return instance.get(`dialogs/${userId}/messages`)\r\n    },\r\n    startDialog(userId){\r\n        return instance.put(`dialogs/${userId}`)\r\n    },\r\n    sendMessage(userId, message){\r\n        return instance.post(`dialogs/${userId}/messages`, {body: message})\r\n    }\r\n};\r\n","import React from 'react'\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../utilits/validators\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <div className={hasError ? styles.error : ''}>\r\n                {props.children}\r\n            </div>\r\n            <div className={styles.error}>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const createField = (name, placeholder, component, validators, props = {}, text = '') => (\r\n    <div>\r\n        <Field name={name} placeholder={placeholder} component={component} validate = {validators} {...props}/> {text}\r\n    </div>\r\n);","import {dialogsApi} from \"../api/api\";\r\n\r\nconst GET_DIALOGS_SUCCESS = 'social-network/dialogsPage/GET_DIALOGS_SUCCESS';\r\nconst GET_MESSAGES_SUCCESS = 'social-network/dialogsPage/GET_MESSAGES_SUCCESS';\r\nconst SET_CURRENT_DIALOG = 'social-network/dialogsPage/SET_CURRENT_DIALOG';\r\nconst SEND_MESSAGE_SUCCESS = 'social-network/dialogsPage/SEND_MESSAGE_SUCCESS';\r\nconst PUT_UP_DIALOG = 'social-network/dialogsPage/PUT_UP_DIALOG';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    selectedDialogId: null\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_DIALOGS_SUCCESS:\r\n        case GET_MESSAGES_SUCCESS:\r\n        case SET_CURRENT_DIALOG:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case PUT_UP_DIALOG:\r\n            debugger\r\n            return {\r\n                ...state,\r\n                messages: [state.messages.find((d) => d.id === action.userId), ...state.messages.filter(d=> d.id !== action.userId)]\r\n            }\r\n       case SEND_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.message]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const getDialogsSuccess = (dialogs) => ({type: GET_DIALOGS_SUCCESS, payload: {dialogs}});\r\nexport const getMessagesSuccess = (messages) => ({type: GET_MESSAGES_SUCCESS, payload: {messages}});\r\nexport const putUpDialog = (userId) => ({type: PUT_UP_DIALOG, userId});\r\nexport const setCurrentDialog = (selectedDialogId) => ({type: GET_MESSAGES_SUCCESS, payload: {selectedDialogId}});\r\n\r\n\r\nexport const sendMessageSuccess = (message) => ({type: SEND_MESSAGE_SUCCESS, message});\r\n\r\nexport const getDialogs = () => async (dispatch) => {\r\n    let response = await dialogsApi.getDialogs();\r\n    dispatch(getDialogsSuccess(response.data))\r\n};\r\nexport const getMessages = (userId) => async (dispatch) => {\r\n    let response = await dialogsApi.getMessages(userId);\r\n    dispatch(getMessagesSuccess(response.data.items))\r\n};\r\nexport const startDialog = (userId) => async (dispatch, getState) => {\r\n    await dialogsApi.startDialog(userId);\r\n    if (getState().dialogs.dialogs.find(d => d.id === userId)) {\r\n        dispatch(putUpDialog(userId))\r\n    } else {\r\n        dispatch(getDialogs())\r\n    }\r\n};\r\nexport const sendMessage = (userId, message) => async (dispatch) => {\r\n    debugger\r\n    let response = await dialogsApi.sendMessage(userId, message);\r\n    dispatch(sendMessageSuccess(response.data.data.message))\r\n};\r\n\r\nexport const init = (userId) => async (dispatch) => {\r\n    debugger\r\n    if(!!userId){\r\n        dispatch(getMessages(userId));\r\n        dispatch(setCurrentDialog(userId));\r\n        await dispatch(startDialog(userId));\r\n        dispatch(getDialogs());\r\n    }else {\r\n        dispatch(getDialogs());\r\n    }\r\n\r\n\r\n};\r\n\r\nexport const update = (userId) => async (dispatch) => {\r\n        dispatch(getMessages(userId));\r\n        dispatch(setCurrentDialog(userId))\r\n};\r\n\r\nexport default dialogsPageReducer;","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.b0fb2661.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__k9nKN\"};","module.exports = __webpack_public_path__ + \"static/media/reload.d36f9122.png\";","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input, Textarea} from \"../../Common/FormsControl\";\r\nimport s from './ProfileDataReduxForm.module.css';\r\nimport styles from \"../../Common/FormsControl.module.css\";\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <div className={s.content}>\r\n        <form onSubmit={handleSubmit}>\r\n            {error && <div className={styles.loginError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Full Name: </b> {createField('fullName', 'Full Name', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div>\r\n                <b>About me: </b> {createField('aboutMe', 'About me', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div className={s.lookForJob}>\r\n                <b>Looking for a job: </b> {createField('lookingForAJob', null, Input, null, {type: 'checkbox'})}\r\n            </div>\r\n            <b>Looking for a job\r\n                description: </b> {createField('lookingForAJobDescription', 'Looking for a job description', Input, null, {type: 'text'})}\r\n            <div>\r\n                <button>save</button>\r\n            </div>\r\n            {/*<div>\r\n                <b>Contacts: </b>{Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={s.contact}>\r\n                    <b>{key}: </b> {createField('contacts.' + key, key, Input)}\r\n                </div>\r\n            })}\r\n            </div>*/}\r\n        </form>\r\n    </div>\r\n};\r\n\r\nconst ProfileDataReduxForm = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm","import React from 'react';\nimport s from './NavBar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst NavBar = () => {\n    return (\n        <div className={s.navBarWrapper}>\n            <div className={s.item}>\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport default NavBar;","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../components/utilits/objectsHelper\";\r\n\r\nconst FOLLOW = 'social-network/userPage/FOLLOW';\r\nconst UNFOLLOW = 'social-network/userPage/UNFOLLOW';\r\nconst SET_USERS = 'social-network/userPage/SET_USERS';\r\nconst SET_PAGES = 'social-network/userPage/SET_PAGES';\r\nconst TOTAL_COUNT_USERS = 'social-network/userPage/TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'social-network/userPage/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'social-network/userPage/FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCountItems: 50,\r\n    sizePage: 12,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_PAGES: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n        case TOTAL_COUNT_USERS: {\r\n            return {\r\n                ...state,\r\n                totalCountItems: action.countUsers\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPages = (pageNumber) => ({type: SET_PAGES, pageNumber});\r\nexport const setTotalCountUsers = (countUsers) => ({type: TOTAL_COUNT_USERS, countUsers});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const setFollowingInProgress = (isFetching, userId) => ({type: FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (currentPage, sizePage) => async (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, sizePage);\r\n    dispatch(setIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n    dispatch(setPages(currentPage))\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    let response = await apiMethod;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator)\r\n    }\r\n    dispatch(setFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.unfollowUsers(userId), unFollowSuccess(userId))\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.followUsers(userId), followSuccess(userId))\r\n};\r\n\r\n\r\nexport default usersPageReducer;","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalCountItems, sizePage, currentPage, onSetPages, portionSize}) => {\r\n    let countPages = Math.ceil(totalCountItems / sizePage);\r\n    let pages = [];\r\n    for (let i = 1; i <= countPages; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(countPages / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftBorderPortion = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorderPortion = portionNumber * portionSize;\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {portionNumber > 1 &&\r\n            <button className={styles.prevBtn} onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>{'<'}</button>\r\n            }\r\n            {pages.filter(p => p >= leftBorderPortion && p <= rightBorderPortion).map(p => {\r\n                return <div className={styles.usersPage}><button className={currentPage===p && styles.activePage} onClick={() => {\r\n                    onSetPages(p)\r\n                }}>{p}</button></div>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button className={styles.nextBtn} onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>{'>'}</button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from \"./User.module.css\";\r\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({userId, photos, followed, name, status, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.user}>\r\n            <div>\r\n                <NavLink to={`/profile/${userId}`}>\r\n                    <img className={styles.photo} src={photos.small !== null ? photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {followed ? <button className={styles.unfBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        unFollow(userId)\r\n                    }}>Unfollow</button> :\r\n                    <button className={styles.follBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        follow(userId)\r\n                    }}>Follow</button>}\r\n            </div>\r\n            <span>\r\n                        <div className={styles.fullName}>\r\n                            {name}\r\n                        </div>\r\n                        <div className={styles.status}>\r\n                            {status}\r\n                        </div>\r\n                    </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalCountItems, portionSize, sizePage, currentPage, onSetPages, users, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.paginator}>\r\n                <Paginator totalCountItems={totalCountItems} sizePage={sizePage}\r\n                           currentPage={currentPage} onSetPages={onSetPages}\r\n                           portionSize={portionSize}\r\n                />\r\n            </div>\r\n            <div className={styles.users}>\r\n                {\r\n                    users.map(u => <User userId={u.id} status={u.status} name={u.name} followed={u.followed}\r\n                                         photos={u.photos}\r\n                                         followingInProgress={followingInProgress}\r\n                                         unFollow={unFollow}\r\n                                         follow={follow}\r\n                                         className={styles.users}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.users.users\r\n};\r\n\r\nexport const getTotalCountUsers = (state) => {\r\n   return state.users.totalCountItems\r\n};\r\n\r\nexport const getSizePage = (state) => {\r\n    return state.users.sizePage\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress\r\n};\r\nexport const getPortionSize = (state) => {\r\n    return state.users.portionSize\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unFollow} from \"../../redux/usersPageReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching, getPortionSize,\r\n    getSizePage,\r\n    getTotalCountUsers, getUsers\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.sizePage)\r\n    }\r\n\r\n    onSetPages = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.sizePage)\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div>{this.props.isFetching ? <Preloader/> : null} </div>\r\n                <div>\r\n                    <Users totalCountItems={this.props.totalCountItems}\r\n                           portionSize={this.props.portionSize}\r\n                           sizePage={this.props.sizePage}\r\n                           currentPage={this.props.currentPage}\r\n                           onSetPages={this.onSetPages}\r\n                           users={this.props.users}\r\n                           unFollow={this.props.unFollow}\r\n                           follow={this.props.follow}\r\n                           followingInProgress={this.props.followingInProgress}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalCountItems: getTotalCountUsers(state),\r\n        sizePage: getSizePage(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    requestUsers\r\n})(UsersContainer);","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Navbar from \"./Navbar/NavBar\";\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\nimport Preloader from \"../Common/Preloader/Preloader\";\n\nconst Header = (props) => {\n    if (!props.profile) {\n        return <Preloader/>\n    }\n    return (\n        <div className={s.header}>\n            <div className={s.headerContent}>\n                <img src='https://avatanplus.com/files/resources/mid/5cd273c518f1216a961439ee.png'/>\n                <div>\n                    <Navbar/>\n                </div>\n                <div className={s.loginWrapper}>\n                    {props.isAuth ?\n                        (  <div className={s.loginContent}>\n                                <img src={props.profile.photos.small || userPhoto} alt=\"profile Photo\"/>\n                                <div><span style={{color: '#fffffe', fontWeight: 'bold', fontSize: '14px'}}>{props.login}</span><a onClick={props.logout}>Log out</a></div>\n                            </div>\n                        ) :\n                        <NavLink to={'/login'}>Login</NavLink>}\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Header;","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_SUCCESS = 'social-network/auth/SET_CAPTCHA_SUCCESS';\r\nconst SET_AUTH_USER_PROFILE = 'social-network/auth/SET_AUTH_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n    profile: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case SET_CAPTCHA_SUCCESS:\r\n        case SET_AUTH_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\nexport const setCaptchaSuccess = (captchaUrl) => ({\r\n    type: SET_CAPTCHA_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\nexport const setAuthUserProfile = (profile) => ({type: SET_AUTH_USER_PROFILE, payload: {profile}});\r\n\r\nexport const getAuthUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setAuthUserProfile(response.data));\r\n};\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.getAuthUserData();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(setCaptcha())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n    await authAPI.logout();\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n};\r\n\r\nexport const setCaptcha = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    dispatch(setCaptchaSuccess(response.data.url))\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getAuthUserProfile, logout} from \"../../redux/authReducer\";\n\nclass HeaderContainer extends React.Component {\n    componentDidMount() {\n        this.props.getAuthUserProfile(this.props.userId)\n    }\n\n   /* componentDidUpdate(prevProps, prevState, snapshot) {\n        debugger\n        if(prevProps.profile.photos.small !== this.props.profile.photos.small){\n            this.props.getAuthUserProfile(this.props.userId)\n        }\n    }*/\n\n    render() {\n        return (\n            <div>\n                <Header {...this.props}/>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        profile: state.auth.profile,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    }\n\n};\n\nexport default connect(mapStateToProps, {logout, getAuthUserProfile})(HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControl\";\r\nimport {required} from \"../utilits/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, setCaptcha} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../Common/FormsControl.module.css\"\r\nimport styleLogin from \"./Login.module.css\"\r\nimport reload from '../../images/reload.png'\r\n\r\nconst Login = ({login, isAuth, captchaUrl, setCaptcha}) => {\r\n    let onSubmit = ({email, password, rememberMe, captcha, ...formData}) => {\r\n        login(email, password, rememberMe, captcha)\r\n    };\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div className={styleLogin.wrapper}>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} setCaptcha={setCaptcha}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl, setCaptcha}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styleLogin.loginForm}>\r\n            <h2>Sign in</h2>\r\n            {createField('email', 'Email', Input, [required], {type: 'text'})}\r\n            {createField('password', 'Password', Input, [required], {type: 'password'})}\r\n            <div className={styleLogin.checkbox}>\r\n                {createField('rememberMe', null, 'input', null, {type: 'checkbox'}, 'Remember me')}\r\n            </div>\r\n            <div className={styles.loginError}>\r\n                {error}\r\n            </div>\r\n            <div className={styleLogin.captcha}>\r\n                <div>\r\n                    <img src={captchaUrl}/>\r\n                    {captchaUrl && <img src={reload} onClick={setCaptcha} className={styleLogin.reloadImg}/>}\r\n                </div>\r\n                <div>\r\n                    {captchaUrl && createField('captcha', 'captcha', Input, [required])}\r\n                </div>\r\n            </div>\r\n            <div >\r\n                <button className={styleLogin.loginBtn}>Sign in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login, setCaptcha})(Login)\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social-network/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    await Promise.all([promise]);\r\n    dispatch(initializedSuccess())\r\n};\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    users: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n};","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Header/Navbar/NavBar\";\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport ProfileDataReduxForm from \"./components/Profil/Description/ProfileDataReduxForm\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profil/ProfileContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <>\n                <div className='appWrapper'>\n                    {this.props.isAuth && <HeaderContainer/>}\n                    <div className='app_wrapper_profile'>\n                        <Switch>\n                        <Route exact path to='/' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs/:userId?' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        </Switch>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    isAuth: state.auth.isAuth\n});\n\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\n\nlet SocialApp = (props) => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    )\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\nReactDOM.render(\n    <SocialApp/>\n    , document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBarWrapper\":\"NavBar_navBarWrapper__3_9uH\",\"item\":\"NavBar_item__-7zU1\",\"activeLink\":\"NavBar_activeLink__2FzHu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__1S70_\",\"loginError\":\"FormsControl_loginError__2m793\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__8qHAB\",\"photo\":\"User_photo__26D2M\",\"status\":\"User_status__3rzYE\",\"unfBtn\":\"User_unfBtn__1axb2\",\"follBtn\":\"User_follBtn__33eE9\",\"fullName\":\"User_fullName__1fAcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__2OAZh\",\"loginForm\":\"Login_loginForm__2_d08\",\"checkbox\":\"Login_checkbox__32Lmv\",\"loginBtn\":\"Login_loginBtn__3fegC\",\"captcha\":\"Login_captcha__MSo3R\",\"reloadImg\":\"Login_reloadImg__BPIGA\"};","import React from 'react';\r\nimport preloader from \"../../../images/Spinner-1s-200px.svg\";\r\nimport style from \"./Preloader.module.css\"\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <img src={preloader}/>\r\n        </div>\r\n        )\r\n\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__1aiAx\",\"usersPage\":\"Paginator_usersPage__3bBdp\",\"activePage\":\"Paginator_activePage__1uTtr\",\"nextBtn\":\"Paginator_nextBtn__25Tfy\",\"prevBtn\":\"Paginator_prevBtn__1TW5f\"};","import React from 'react'\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__2tQjr\",\"users\":\"Users_users__tFwSo\",\"paginator\":\"Users_paginator__TFNfs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__25gid\",\"headerContent\":\"Header_headerContent__GGuQ1\",\"loginWrapper\":\"Header_loginWrapper__1Xyon\",\"loginContent\":\"Header_loginContent__MtDav\"};","module.exports = __webpack_public_path__ + \"static/media/users-vector-icon-png_260862.13988554.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileDataReduxForm_content__DSZqv\",\"lookForJob\":\"ProfileDataReduxForm_lookForJob__38x54\"};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'social-network/profilePage/ADD_POST';\r\nconst SET_USER_PROFILE = 'social-network/profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'social-network/profilePage/SET_USER_STATUS';\r\nconst DELETE_POST = 'social-network/profilePage/DELETE_POST';\r\nconst SAVE_PHOTO = 'social-network/profilePage/SAVE_PHOTO';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: '1', post: 'How are you my dear friends', likeCounts: '60'},\r\n        {id: '2', post: 'Its my first project', likeCounts: '67'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let post = {\r\n                id: '3', post: action.newTextPost, likeCounts: '0'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, post],\r\n            };\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return  {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newTextPost) => ({type: ADD_POST, newTextPost});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateUserStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    } else {\r\n        dispatch(setUserStatus(response.data.messages))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getUserProfile(userId))\r\n    }else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;\r\n\r\n\r\n"],"sourceRoot":""}