{"version":3,"sources":["api/api.js","hoc/withAuthRedirect.js","redux/profilePageReducer.js","components/Common/FormsControl.js","redux/dialogsPageReducer.js","images/Spinner-1s-200px.svg","components/Common/Preloader/Preloader.module.css","images/reload.png","components/Profil/Description/ProfileDataReduxForm.js","components/Header/Navbar/NavBar.js","components/utilits/objectsHelper.js","redux/usersPageReducer.js","components/Common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/appReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/Header/Navbar/NavBar.module.css","components/Common/FormsControl.module.css","components/Users/User.module.css","components/Login/Login.module.css","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.module.css","components/utilits/validators.js","components/Users/Users.module.css","components/Header/Header.module.css","images/users-vector-icon-png_260862.jpg","components/Profil/Description/ProfileDataReduxForm.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","sizePage","get","then","response","data","unfollowUsers","id","delete","followUsers","post","authAPI","getAuthUserData","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","profileAPI","getUserProfile","userId","getUserStatus","updateUserStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","dialogsApi","getDialogs","getMessages","startDialog","sendMessage","message","body","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SAVE_PHOTO","initialState","posts","likeCounts","addPost","newTextPost","type","setUserStatus","deletePost","postId","dispatch","a","resultCode","messages","photos","getState","stopSubmit","_error","Promise","reject","profilePageReducer","action","filter","p","FormControl","input","meta","hasError","touched","error","className","styles","children","Input","restProps","createField","name","placeholder","component","validators","text","validate","GET_DIALOGS_SUCCESS","GET_MESSAGES_SUCCESS","SEND_MESSAGE_SUCCESS","PUT_UP_DIALOG","dialogs","selectedDialogId","putUpDialog","setCurrentDialog","payload","sendMessageSuccess","items","dialogsPage","find","d","init","update","dialogsPageReducer","module","exports","ProfileDataReduxForm","reduxForm","form","handleSubmit","s","content","onSubmit","loginError","lookForJob","NavBar","navBarWrapper","item","activeClassName","activeLink","updateObjectInArray","itemsId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGES","TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalCountItems","isFetching","followingInProgress","portionSize","setIsFetching","setFollowingInProgress","followUnFollowFlow","apiMethod","actionCreator","usersPageReducer","followed","pageNumber","countUsers","Paginator","onSetPages","countPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftBorderPortion","rightBorderPortion","wrapper","prevBtn","onClick","usersPage","activePage","nextBtn","User","unFollow","follow","user","photo","src","small","userPhoto","unfBtn","disabled","some","follBtn","fullName","Users","paginator","getTotalCountUsers","getSizePage","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","Preloader","compose","followSuccess","unFollowSuccess","totalCount","Header","header","headerContent","loginWrapper","loginContent","alt","style","color","fontWeight","fontSize","SET_USER_DATA","SET_CAPTCHA_SUCCESS","captchaUrl","setAuthUserData","setCaptcha","url","authReducer","HeaderContainer","getAuthUserProfile","LoginReduxForm","styleLogin","loginForm","required","checkbox","reload","reloadImg","loginBtn","length","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","formReducer","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","withRouter","promise","all","SocialApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.0eb41cde.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '59ead4fb-0c13-4727-ad30-0a30cf50ed9b'\r\n    }\r\n})\r\n\r\nexport const usersAPI ={\r\n    getUsers: (currentPage, sizePage) => {\r\n        return instance.get(`users?page=${currentPage}&count=${sizePage}`,\r\n        ).then(response=> {\r\n            return  response.data\r\n        })\r\n    },\r\n    unfollowUsers: (id)=>{\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    followUsers: (id)=>{\r\n        return instance.post(`follow/${id}`, {})\r\n    }\r\n};\r\n\r\nexport const authAPI ={\r\n    getAuthUserData: () => {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login: (email, password, rememberMe, captcha=null) => {\r\n      return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout: () => {\r\n      return instance.delete(`auth/login`)\r\n    },\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha: () => {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile: (userId) => {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getUserStatus: (userId) => {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus: (status) => {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto: (file) => {\r\n        const formData = new FormData ();\r\n        formData.append('image', file);\r\n        return instance.put (`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile: (profile) => {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n\r\nexport const dialogsApi = {\r\n    getDialogs(){\r\n        return instance.get('dialogs')\r\n    },\r\n    getMessages(userId){\r\n        return instance.get(`dialogs/${userId}/messages`)\r\n    },\r\n    startDialog(userId){\r\n        return instance.put(`dialogs/${userId}`)\r\n    },\r\n    sendMessage(userId, message){\r\n        return instance.post(`dialogs/${userId}/messages`, {body: message})\r\n    }\r\n};\r\n","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props}/>\r\n}\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent\r\n};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'social-network/profilePage/ADD_POST';\r\nconst SET_USER_PROFILE = 'social-network/profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'social-network/profilePage/SET_USER_STATUS';\r\nconst DELETE_POST = 'social-network/profilePage/DELETE_POST';\r\nconst SAVE_PHOTO = 'social-network/profilePage/SAVE_PHOTO';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: '1', post: 'How are you my dear friends', likeCounts: '60'},\r\n        {id: '2', post: 'Its my first project', likeCounts: '67'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let post = {\r\n                id: '3', post: action.newTextPost, likeCounts: '0'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, post],\r\n            };\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return  {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newTextPost) => ({type: ADD_POST, newTextPost});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateUserStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    } else {\r\n        dispatch(setUserStatus(response.data.messages))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getUserProfile(userId))\r\n    }else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;\r\n\r\n\r\n","import React from 'react'\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../utilits/validators\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <div className={hasError ? styles.error : ''}>\r\n                {props.children}\r\n            </div>\r\n            <div className={styles.error}>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const createField = (name, placeholder, component, validators, props = {}, text = '') => (\r\n    <div>\r\n        <Field name={name} placeholder={placeholder} component={component} validate = {validators} {...props}/> {text}\r\n    </div>\r\n);","import {dialogsApi} from \"../api/api\";\r\n\r\nconst GET_DIALOGS_SUCCESS = 'social-network/dialogsPage/GET_DIALOGS_SUCCESS';\r\nconst GET_MESSAGES_SUCCESS = 'social-network/dialogsPage/GET_MESSAGES_SUCCESS';\r\nconst SET_CURRENT_DIALOG = 'social-network/dialogsPage/SET_CURRENT_DIALOG';\r\nconst SEND_MESSAGE_SUCCESS = 'social-network/dialogsPage/SEND_MESSAGE_SUCCESS';\r\nconst PUT_UP_DIALOG = 'social-network/dialogsPage/PUT_UP_DIALOG';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    selectedDialogId: null\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_DIALOGS_SUCCESS:\r\n        case GET_MESSAGES_SUCCESS:\r\n        case SET_CURRENT_DIALOG:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case PUT_UP_DIALOG:\r\n            return {\r\n                ...state,\r\n                dialogs: [state.dialogs.find((d) => d.id === action.userId), ...state.dialogs.filter(d=> d.id !== action.userId)]\r\n            }\r\n       case SEND_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.message]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const getDialogsSuccess = (dialogs) => ({type: GET_DIALOGS_SUCCESS, payload: {dialogs}});\r\nexport const getMessagesSuccess = (messages) => ({type: GET_MESSAGES_SUCCESS, payload: {messages}});\r\nexport const putUpDialog = (userId) => ({type: PUT_UP_DIALOG, userId});\r\nexport const setCurrentDialog = (selectedDialogId) => ({type: GET_MESSAGES_SUCCESS, payload: {selectedDialogId}});\r\n\r\n\r\nexport const sendMessageSuccess = (message) => ({type: SEND_MESSAGE_SUCCESS, message});\r\n\r\nexport const getDialogs = () => async (dispatch) => {\r\n    let response = await dialogsApi.getDialogs();\r\n    dispatch(getDialogsSuccess(response.data))\r\n};\r\nexport const getMessages = (userId) => async (dispatch) => {\r\n    let response = await dialogsApi.getMessages(userId);\r\n    dispatch(getMessagesSuccess(response.data.items))\r\n};\r\nexport const startDialog = (userId) => async (dispatch, getState) => {\r\n    await dialogsApi.startDialog(userId);\r\n    if (getState().dialogsPage.dialogs.find(d => d.id === userId)) {\r\n        dispatch(putUpDialog(userId))\r\n    } else {\r\n        dispatch(getDialogs())\r\n    }\r\n};\r\nexport const sendMessage = (userId, message) => async (dispatch, getState) => {\r\n    let response = await dialogsApi.sendMessage(userId, message);\r\n    dispatch(sendMessageSuccess(response.data.data.message));\r\n    if (getState().dialogsPage.dialogs.find(d => d.id === userId)) {\r\n        dispatch(putUpDialog(userId))\r\n    } else {\r\n        dispatch(getDialogs())\r\n    }\r\n};\r\n\r\nexport const init = (userId) => async (dispatch) => {\r\n    if(!!userId){\r\n        await dispatch(startDialog(userId));\r\n        dispatch(getDialogs());\r\n        dispatch(getMessages(userId));\r\n        dispatch(setCurrentDialog(userId));\r\n    }else {\r\n        dispatch(getDialogs());\r\n    }\r\n\r\n\r\n};\r\n\r\nexport const update = (userId) => async (dispatch) => {\r\n        dispatch(getMessages(userId));\r\n        dispatch(setCurrentDialog(userId))\r\n};\r\n\r\nexport default dialogsPageReducer;","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.b0fb2661.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__k9nKN\"};","module.exports = __webpack_public_path__ + \"static/media/reload.d36f9122.png\";","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input, Textarea} from \"../../Common/FormsControl\";\r\nimport s from './ProfileDataReduxForm.module.css';\r\nimport styles from \"../../Common/FormsControl.module.css\";\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <div className={s.content}>\r\n        <form onSubmit={handleSubmit}>\r\n            {error && <div className={styles.loginError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Full Name: </b> {createField('fullName', 'Full Name', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div>\r\n                <b>About me: </b> {createField('aboutMe', 'About me', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div className={s.lookForJob}>\r\n                <b>Looking for a job: </b> {createField('lookingForAJob', null, Input, null, {type: 'checkbox'})}\r\n            </div>\r\n            <b>Looking for a job\r\n                description: </b> {createField('lookingForAJobDescription', 'Looking for a job description', Input, null, {type: 'text'})}\r\n            <div>\r\n                <button>save</button>\r\n            </div>\r\n            {/*<div>\r\n                <b>Contacts: </b>{Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={s.contact}>\r\n                    <b>{key}: </b> {createField('contacts.' + key, key, Input)}\r\n                </div>\r\n            })}\r\n            </div>*/}\r\n        </form>\r\n    </div>\r\n};\r\n\r\nconst ProfileDataReduxForm = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm","import React from 'react';\nimport s from './NavBar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst NavBar = () => {\n    return (\n        <div className={s.navBarWrapper}>\n            <div className={s.item}>\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport default NavBar;","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../components/utilits/objectsHelper\";\r\n\r\nconst FOLLOW = 'social-network/userPage/FOLLOW';\r\nconst UNFOLLOW = 'social-network/userPage/UNFOLLOW';\r\nconst SET_USERS = 'social-network/userPage/SET_USERS';\r\nconst SET_PAGES = 'social-network/userPage/SET_PAGES';\r\nconst TOTAL_COUNT_USERS = 'social-network/userPage/TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'social-network/userPage/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'social-network/userPage/FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCountItems: 50,\r\n    sizePage: 12,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_PAGES: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n        case TOTAL_COUNT_USERS: {\r\n            return {\r\n                ...state,\r\n                totalCountItems: action.countUsers\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPages = (pageNumber) => ({type: SET_PAGES, pageNumber});\r\nexport const setTotalCountUsers = (countUsers) => ({type: TOTAL_COUNT_USERS, countUsers});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const setFollowingInProgress = (isFetching, userId) => ({type: FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (currentPage, sizePage) => async (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, sizePage);\r\n    dispatch(setIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n    dispatch(setPages(currentPage))\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    let response = await apiMethod;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator)\r\n    }\r\n    dispatch(setFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.unfollowUsers(userId), unFollowSuccess(userId))\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.followUsers(userId), followSuccess(userId))\r\n};\r\n\r\n\r\nexport default usersPageReducer;","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalCountItems, sizePage, currentPage, onSetPages, portionSize}) => {\r\n    let countPages = Math.ceil(totalCountItems / sizePage);\r\n    let pages = [];\r\n    for (let i = 1; i <= countPages; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(countPages / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftBorderPortion = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorderPortion = portionNumber * portionSize;\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {portionNumber > 1 &&\r\n            <button className={styles.prevBtn} onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>{'<'}</button>\r\n            }\r\n            {pages.filter(p => p >= leftBorderPortion && p <= rightBorderPortion).map(p => {\r\n                return <div className={styles.usersPage}><button className={currentPage===p && styles.activePage} onClick={() => {\r\n                    onSetPages(p)\r\n                }}>{p}</button></div>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button className={styles.nextBtn} onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>{'>'}</button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from \"./User.module.css\";\r\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({userId, photos, followed, name, status, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.user}>\r\n            <div>\r\n                <NavLink to={`/profile/${userId}`}>\r\n                    <img className={styles.photo} src={photos.small !== null ? photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {followed ? <button className={styles.unfBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        unFollow(userId)\r\n                    }}>Unfollow</button> :\r\n                    <button className={styles.follBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        follow(userId)\r\n                    }}>Follow</button>}\r\n            </div>\r\n            <span>\r\n                        <div className={styles.fullName}>\r\n                            {name}\r\n                        </div>\r\n                        <div className={styles.status}>\r\n                            {status}\r\n                        </div>\r\n                    </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalCountItems, portionSize, sizePage, currentPage, onSetPages, users, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.paginator}>\r\n                <Paginator totalCountItems={totalCountItems} sizePage={sizePage}\r\n                           currentPage={currentPage} onSetPages={onSetPages}\r\n                           portionSize={portionSize}\r\n                />\r\n            </div>\r\n            <div className={styles.users}>\r\n                {\r\n                    users.map(u => <User userId={u.id} status={u.status} name={u.name} followed={u.followed}\r\n                                         photos={u.photos}\r\n                                         followingInProgress={followingInProgress}\r\n                                         unFollow={unFollow}\r\n                                         follow={follow}\r\n                                         className={styles.users}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.users.users\r\n};\r\n\r\nexport const getTotalCountUsers = (state) => {\r\n   return state.users.totalCountItems\r\n};\r\n\r\nexport const getSizePage = (state) => {\r\n    return state.users.sizePage\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress\r\n};\r\nexport const getPortionSize = (state) => {\r\n    return state.users.portionSize\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unFollow} from \"../../redux/usersPageReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching, getPortionSize,\r\n    getSizePage,\r\n    getTotalCountUsers, getUsers\r\n} from \"../../redux/usersSelectors\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.sizePage)\r\n    }\r\n\r\n    onSetPages = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.sizePage)\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div>{this.props.isFetching ? <Preloader/> : null} </div>\r\n                <div>\r\n                    <Users totalCountItems={this.props.totalCountItems}\r\n                           portionSize={this.props.portionSize}\r\n                           sizePage={this.props.sizePage}\r\n                           currentPage={this.props.currentPage}\r\n                           onSetPages={this.onSetPages}\r\n                           users={this.props.users}\r\n                           unFollow={this.props.unFollow}\r\n                           follow={this.props.follow}\r\n                           followingInProgress={this.props.followingInProgress}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalCountItems: getTotalCountUsers(state),\r\n        sizePage: getSizePage(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        requestUsers\r\n    }),\r\n    withAuthRedirect)\r\n(UsersContainer);","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Navbar from \"./Navbar/NavBar\";\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\nimport Preloader from \"../Common/Preloader/Preloader\";\n\nconst Header = (props) => {\n    if (!props.profile) {\n        return <Preloader/>\n    }\n    return (\n        <div className={s.header}>\n            <div className={s.headerContent}>\n                <img src='https://avatanplus.com/files/resources/mid/5cd273c518f1216a961439ee.png'/>\n                <div>\n                    <Navbar/>\n                </div>\n                <div className={s.loginWrapper}>\n                    {props.isAuth ?\n                        (  <div className={s.loginContent}>\n                                <img src={props.profile.photos.small || userPhoto} alt=\"profile Photo\"/>\n                                <div><span style={{color: '#fffffe', fontWeight: 'bold', fontSize: '14px'}}>{props.login}</span><a onClick={props.logout}>Log out</a></div>\n                            </div>\n                        ) :\n                        <NavLink to={'/login'}>Login</NavLink>}\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Header;","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_SUCCESS = 'social-network/auth/SET_CAPTCHA_SUCCESS';\r\nconst SET_AUTH_USER_PROFILE = 'social-network/auth/SET_AUTH_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n    profile: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case SET_CAPTCHA_SUCCESS:\r\n        case SET_AUTH_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\nexport const setCaptchaSuccess = (captchaUrl) => ({\r\n    type: SET_CAPTCHA_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\nexport const setAuthUserProfile = (profile) => ({type: SET_AUTH_USER_PROFILE, payload: {profile}});\r\n\r\nexport const getAuthUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setAuthUserProfile(response.data));\r\n};\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.getAuthUserData();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(setCaptcha())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n    await authAPI.logout();\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n};\r\n\r\nexport const setCaptcha = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    dispatch(setCaptchaSuccess(response.data.url))\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getAuthUserProfile, logout} from \"../../redux/authReducer\";\n\nclass HeaderContainer extends React.Component {\n    componentDidMount() {\n        this.props.getAuthUserProfile(this.props.userId)\n    }\n\n   /* componentDidUpdate(prevProps, prevState, snapshot) {\n        debugger\n        if(prevProps.profile.photos.small !== this.props.profile.photos.small){\n            this.props.getAuthUserProfile(this.props.userId)\n        }\n    }*/\n\n    render() {\n        return (\n            <div>\n                <Header {...this.props}/>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        profile: state.auth.profile,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    }\n\n};\n\nexport default connect(mapStateToProps, {logout, getAuthUserProfile})(HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControl\";\r\nimport {required} from \"../utilits/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, setCaptcha} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../Common/FormsControl.module.css\"\r\nimport styleLogin from \"./Login.module.css\"\r\nimport reload from '../../images/reload.png'\r\n\r\nconst Login = ({login, isAuth, captchaUrl, setCaptcha}) => {\r\n    let onSubmit = ({email, password, rememberMe, captcha, ...formData}) => {\r\n        login(email, password, rememberMe, captcha)\r\n    };\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div className={styleLogin.wrapper}>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} setCaptcha={setCaptcha}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl, setCaptcha}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styleLogin.loginForm}>\r\n            <h2>Sign in</h2>\r\n            {createField('email', 'Email', Input, [required], {type: 'text'})}\r\n            {createField('password', 'Password', Input, [required], {type: 'password'})}\r\n            <div className={styleLogin.checkbox}>\r\n                {createField('rememberMe', null, 'input', null, {type: 'checkbox'}, 'Remember me')}\r\n            </div>\r\n            <div className={styles.loginError}>\r\n                {error}\r\n            </div>\r\n            <div className={styleLogin.captcha}>\r\n                <div>\r\n                    <img src={captchaUrl}/>\r\n                    {captchaUrl && <img src={reload} onClick={setCaptcha} className={styleLogin.reloadImg}/>}\r\n                </div>\r\n                <div>\r\n                    {captchaUrl && createField('captcha', 'captcha', Input, [required])}\r\n                </div>\r\n            </div>\r\n            <div >\r\n                <button className={styleLogin.loginBtn}>Sign in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login, setCaptcha})(Login)\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social-network/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    await Promise.all([promise]);\r\n    dispatch(initializedSuccess())\r\n};\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    users: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n};","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Header/Navbar/NavBar\";\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport ProfileDataReduxForm from \"./components/Profil/Description/ProfileDataReduxForm\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profil/ProfileContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <>\n                <div className='appWrapper'>\n                    {this.props.isAuth && <HeaderContainer/>}\n                    <div className='app_wrapper_profile'>\n                        <Route exact path to='/' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs/:userId?' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    isAuth: state.auth.isAuth\n});\n\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\n\nlet SocialApp = (props) => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    )\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\nReactDOM.render(\n    <SocialApp/>\n    , document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBarWrapper\":\"NavBar_navBarWrapper__3_9uH\",\"item\":\"NavBar_item__-7zU1\",\"activeLink\":\"NavBar_activeLink__2FzHu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__1S70_\",\"loginError\":\"FormsControl_loginError__2m793\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__8qHAB\",\"photo\":\"User_photo__26D2M\",\"status\":\"User_status__3rzYE\",\"unfBtn\":\"User_unfBtn__1axb2\",\"follBtn\":\"User_follBtn__33eE9\",\"fullName\":\"User_fullName__1fAcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__2OAZh\",\"loginForm\":\"Login_loginForm__2_d08\",\"checkbox\":\"Login_checkbox__32Lmv\",\"loginBtn\":\"Login_loginBtn__3fegC\",\"captcha\":\"Login_captcha__MSo3R\",\"reloadImg\":\"Login_reloadImg__BPIGA\"};","import React from 'react';\r\nimport preloader from \"../../../images/Spinner-1s-200px.svg\";\r\nimport style from \"./Preloader.module.css\"\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <img src={preloader}/>\r\n        </div>\r\n        )\r\n\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__1aiAx\",\"usersPage\":\"Paginator_usersPage__3bBdp\",\"activePage\":\"Paginator_activePage__1uTtr\",\"nextBtn\":\"Paginator_nextBtn__25Tfy\",\"prevBtn\":\"Paginator_prevBtn__1TW5f\"};","import React from 'react'\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__2tQjr\",\"users\":\"Users_users__tFwSo\",\"paginator\":\"Users_paginator__TFNfs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__25gid\",\"headerContent\":\"Header_headerContent__GGuQ1\",\"loginWrapper\":\"Header_loginWrapper__1Xyon\",\"loginContent\":\"Header_loginContent__MtDav\"};","module.exports = __webpack_public_path__ + \"static/media/users-vector-icon-png_260862.13988554.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileDataReduxForm_content__DSZqv\",\"lookForJob\":\"ProfileDataReduxForm_lookForJob__38x54\"};"],"sourceRoot":""}