{"version":3,"sources":["components/Common/FormsControl.js","api/api.js","redux/dialogsPageReducer.js","images/Spinner-1s-200px.svg","components/Common/Preloader/Preloader.module.css","images/reload.png","components/Profil/Description/ProfileDataReduxForm.js","components/Header/Navbar/NavBar.js","components/utilits/objectsHelper.js","redux/usersPageReducer.js","components/Common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/appReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/Header/Navbar/NavBar.module.css","components/Common/FormsControl.module.css","components/Users/User.module.css","components/Login/Login.module.css","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.module.css","components/utilits/validators.js","components/Users/Users.module.css","components/Header/Header.module.css","images/users-vector-icon-png_260862.jpg","components/Profil/Description/ProfileDataReduxForm.module.css","redux/profilePageReducer.js"],"names":["FormControl","input","meta","props","hasError","touched","error","className","styles","children","Textarea","restProps","Input","createField","name","placeholder","component","validators","text","validate","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","sizePage","get","then","response","data","unfollowUsers","id","delete","followUsers","post","authAPI","getAuthUserData","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","profileAPI","getUserProfile","userId","getUserStatus","updateUserStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","SEND_MESSAGE","initialState","dialogs","messages","message","sendMessage","newTextMessage","type","dialogsPageReducer","state","action","module","exports","ProfileDataReduxForm","reduxForm","form","handleSubmit","s","content","onSubmit","loginError","lookForJob","NavBar","navBarWrapper","item","to","activeClassName","activeLink","updateObjectInArray","items","itemsId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGES","TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalCountItems","isFetching","followingInProgress","portionSize","setIsFetching","setFollowingInProgress","followUnFollowFlow","dispatch","apiMethod","actionCreator","a","async","resultCode","usersPageReducer","followed","pageNumber","countUsers","filter","Paginator","onSetPages","countPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftBorderPortion","rightBorderPortion","wrapper","prevBtn","onClick","p","usersPage","activePage","nextBtn","User","photos","unFollow","follow","user","photo","src","small","userPhoto","unfBtn","disabled","some","follBtn","fullName","Users","paginator","getTotalCountUsers","getSizePage","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","connect","followSuccess","unFollowSuccess","totalCount","Header","header","headerContent","loginWrapper","isAuth","loginContent","alt","style","color","fontWeight","fontSize","SET_USER_DATA","SET_CAPTCHA_SUCCESS","captchaUrl","setAuthUserData","payload","setCaptcha","url","authReducer","HeaderContainer","getAuthUserProfile","auth","LoginReduxForm","styleLogin","loginForm","required","checkbox","reload","reloadImg","loginBtn","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profilePageReducer","dialogsPage","formReducer","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","compose","withRouter","promise","Promise","all","SocialApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SAVE_PHOTO","posts","likeCounts","addPost","newTextPost","setUserStatus","deletePost","postId","getState","reject"],"mappings":"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","file":"static/js/main.b16249aa.chunk.js","sourcesContent":["import React from 'react'\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../utilits/validators\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <div className={hasError ? styles.error : ''}>\r\n                {props.children}\r\n            </div>\r\n            <div className={styles.error}>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const createField = (name, placeholder, component, validators, props = {}, text = '') => (\r\n    <div>\r\n        <Field name={name} placeholder={placeholder} component={component} validate = {validators} {...props}/> {text}\r\n    </div>\r\n);","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '59ead4fb-0c13-4727-ad30-0a30cf50ed9b'\r\n    }\r\n})\r\n\r\nexport const usersAPI ={\r\n    getUsers: (currentPage, sizePage) => {\r\n        return instance.get(`users?page=${currentPage}&count=${sizePage}`,\r\n        ).then(response=> {\r\n            return  response.data\r\n        })\r\n    },\r\n    unfollowUsers: (id)=>{\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    followUsers: (id)=>{\r\n        return instance.post(`follow/${id}`, {})\r\n    }\r\n};\r\n\r\nexport const authAPI ={\r\n    getAuthUserData: () => {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login: (email, password, rememberMe, captcha=null) => {\r\n      return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout: () => {\r\n      return instance.delete(`auth/login`)\r\n    },\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha: () => {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile: (userId) => {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getUserStatus: (userId) => {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus: (status) => {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto: (file) => {\r\n        const formData = new FormData ();\r\n        formData.append('image', file);\r\n        return instance.put (`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile: (profile) => {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n","const SEND_MESSAGE = 'social-network/dialogsPage/SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: '1', name: 'Pasha'},\r\n        {id: '2', name: 'Oleg'},\r\n        {id: '3', name: 'Nastya'},\r\n        {id: '4', name: 'Alex'},\r\n        {id: '5', name: 'John'}\r\n    ],\r\n    messages: [\r\n        {id: '1', message: 'Hello my dear friend'},\r\n        {id: '2', message: 'How are you, BRO'},\r\n        {id: '3', message: 'Where is my socks'}\r\n    ],\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let message = {\r\n                id: '4', message: action.newTextMessage\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, message],\r\n                newTextMessage: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newTextMessage) => ({type: SEND_MESSAGE, newTextMessage});\r\n\r\nexport default dialogsPageReducer;","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.b0fb2661.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__k9nKN\"};","module.exports = __webpack_public_path__ + \"static/media/reload.d36f9122.png\";","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input, Textarea} from \"../../Common/FormsControl\";\r\nimport s from './ProfileDataReduxForm.module.css';\r\nimport styles from \"../../Common/FormsControl.module.css\";\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <div className={s.content}>\r\n        <form onSubmit={handleSubmit}>\r\n            {error && <div className={styles.loginError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Full Name: </b> {createField('fullName', 'Full Name', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div>\r\n                <b>About me: </b> {createField('aboutMe', 'About me', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div className={s.lookForJob}>\r\n                <b>Looking for a job: </b> {createField('lookingForAJob', null, Input, null, {type: 'checkbox'})}\r\n            </div>\r\n            <b>Looking for a job\r\n                description: </b> {createField('lookingForAJobDescription', 'Looking for a job description', Input, null, {type: 'text'})}\r\n            <div>\r\n                <button>save</button>\r\n            </div>\r\n            {/*<div>\r\n                <b>Contacts: </b>{Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={s.contact}>\r\n                    <b>{key}: </b> {createField('contacts.' + key, key, Input)}\r\n                </div>\r\n            })}\r\n            </div>*/}\r\n        </form>\r\n    </div>\r\n};\r\n\r\nconst ProfileDataReduxForm = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm","import React from 'react';\nimport s from './NavBar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst NavBar = () => {\n    return (\n        <div className={s.navBarWrapper}>\n            <div className={s.item}>\n                <NavLink to='/Profile' activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/Dialogs' activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/Users' activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport default NavBar;","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../components/utilits/objectsHelper\";\r\n\r\nconst FOLLOW = 'social-network/userPage/FOLLOW';\r\nconst UNFOLLOW = 'social-network/userPage/UNFOLLOW';\r\nconst SET_USERS = 'social-network/userPage/SET_USERS';\r\nconst SET_PAGES = 'social-network/userPage/SET_PAGES';\r\nconst TOTAL_COUNT_USERS = 'social-network/userPage/TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'social-network/userPage/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'social-network/userPage/FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCountItems: 50,\r\n    sizePage: 12,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_PAGES: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n        case TOTAL_COUNT_USERS: {\r\n            return {\r\n                ...state,\r\n                totalCountItems: action.countUsers\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPages = (pageNumber) => ({type: SET_PAGES, pageNumber});\r\nexport const setTotalCountUsers = (countUsers) => ({type: TOTAL_COUNT_USERS, countUsers});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const setFollowingInProgress = (isFetching, userId) => ({type: FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (currentPage, sizePage) => async (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, sizePage);\r\n    dispatch(setIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n    dispatch(setPages(currentPage))\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    let response = await apiMethod;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator)\r\n    }\r\n    dispatch(setFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.unfollowUsers(userId), unFollowSuccess(userId))\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.followUsers(userId), followSuccess(userId))\r\n};\r\n\r\n\r\nexport default usersPageReducer;","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalCountItems, sizePage, currentPage, onSetPages, portionSize}) => {\r\n    let countPages = Math.ceil(totalCountItems / sizePage);\r\n    let pages = [];\r\n    for (let i = 1; i <= countPages; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(countPages / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftBorderPortion = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorderPortion = portionNumber * portionSize;\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {portionNumber > 1 &&\r\n            <button className={styles.prevBtn} onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>{'<'}</button>\r\n            }\r\n            {pages.filter(p => p >= leftBorderPortion && p <= rightBorderPortion).map(p => {\r\n                return <div className={styles.usersPage}><button className={currentPage===p && styles.activePage} onClick={() => {\r\n                    onSetPages(p)\r\n                }}>{p}</button></div>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button className={styles.nextBtn} onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>{'>'}</button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from \"./User.module.css\";\r\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({userId, photos, followed, name, status, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.user}>\r\n            <div>\r\n                <NavLink to={`/profile/${userId}`}>\r\n                    <img className={styles.photo} src={photos.small !== null ? photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {followed ? <button className={styles.unfBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        unFollow(userId)\r\n                    }}>Unfollow</button> :\r\n                    <button className={styles.follBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        follow(userId)\r\n                    }}>Follow</button>}\r\n            </div>\r\n            <span>\r\n                        <div className={styles.fullName}>\r\n                            {name}\r\n                        </div>\r\n                        <div className={styles.status}>\r\n                            {status}\r\n                        </div>\r\n                    </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalCountItems, portionSize, sizePage, currentPage, onSetPages, users, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.paginator}>\r\n                <Paginator totalCountItems={totalCountItems} sizePage={sizePage}\r\n                           currentPage={currentPage} onSetPages={onSetPages}\r\n                           portionSize={portionSize}\r\n                />\r\n            </div>\r\n            <div className={styles.users}>\r\n                {\r\n                    users.map(u => <User userId={u.id} status={u.status} name={u.name} followed={u.followed}\r\n                                         photos={u.photos}\r\n                                         followingInProgress={followingInProgress}\r\n                                         unFollow={unFollow}\r\n                                         follow={follow}\r\n                                         className={styles.users}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.users.users\r\n};\r\n\r\nexport const getTotalCountUsers = (state) => {\r\n   return state.users.totalCountItems\r\n};\r\n\r\nexport const getSizePage = (state) => {\r\n    return state.users.sizePage\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress\r\n};\r\nexport const getPortionSize = (state) => {\r\n    return state.users.portionSize\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unFollow} from \"../../redux/usersPageReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching, getPortionSize,\r\n    getSizePage,\r\n    getTotalCountUsers, getUsers\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.sizePage)\r\n    }\r\n\r\n    onSetPages = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.sizePage)\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div>{this.props.isFetching ? <Preloader/> : null} </div>\r\n                <div>\r\n                    <Users totalCountItems={this.props.totalCountItems}\r\n                           portionSize={this.props.portionSize}\r\n                           sizePage={this.props.sizePage}\r\n                           currentPage={this.props.currentPage}\r\n                           onSetPages={this.onSetPages}\r\n                           users={this.props.users}\r\n                           unFollow={this.props.unFollow}\r\n                           follow={this.props.follow}\r\n                           followingInProgress={this.props.followingInProgress}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalCountItems: getTotalCountUsers(state),\r\n        sizePage: getSizePage(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    requestUsers\r\n})(UsersContainer);","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Navbar from \"./Navbar/NavBar\";\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\nimport Preloader from \"../Common/Preloader/Preloader\";\n\nconst Header = (props) => {\n    if (!props.profile) {\n        return <Preloader/>\n    }\n    return (\n        <div className={s.header}>\n            <div className={s.headerContent}>\n                <img src='https://avatanplus.com/files/resources/mid/5cd273c518f1216a961439ee.png'/>\n                <div>\n                    <Navbar/>\n                </div>\n                <div className={s.loginWrapper}>\n                    {props.isAuth ?\n                        (  <div className={s.loginContent}>\n                                <img src={props.profile.photos.small || userPhoto} alt=\"profile Photo\"/>\n                                <div><span style={{color: '#fffffe', fontWeight: 'bold', fontSize: '14px'}}>{props.login}</span><a onClick={props.logout}>Log out</a></div>\n                            </div>\n                        ) :\n                        <NavLink to={'/login'}>Login</NavLink>}\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Header;","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_SUCCESS = 'social-network/auth/SET_CAPTCHA_SUCCESS';\r\nconst SET_AUTH_USER_PROFILE = 'social-network/auth/SET_AUTH_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n    profile: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case SET_CAPTCHA_SUCCESS:\r\n        case SET_AUTH_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\nexport const setCaptchaSuccess = (captchaUrl) => ({\r\n    type: SET_CAPTCHA_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\nexport const setAuthUserProfile = (profile) => ({type: SET_AUTH_USER_PROFILE, payload: {profile}});\r\n\r\nexport const getAuthUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setAuthUserProfile(response.data));\r\n};\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    debugger\r\n    let response = await authAPI.getAuthUserData();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(setCaptcha())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n    await authAPI.logout();\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n};\r\n\r\nexport const setCaptcha = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    dispatch(setCaptchaSuccess(response.data.url))\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getAuthUserProfile, logout} from \"../../redux/authReducer\";\n\nclass HeaderContainer extends React.Component {\n    componentDidMount() {\n        debugger\n        this.props.getAuthUserProfile(this.props.userId)\n    }\n\n   /* componentDidUpdate(prevProps, prevState, snapshot) {\n        debugger\n        if(prevProps.profile.photos.small !== this.props.profile.photos.small){\n            this.props.getAuthUserProfile(this.props.userId)\n        }\n    }*/\n\n    render() {\n        return (\n            <div>\n                <Header {...this.props}/>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        profile: state.auth.profile,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    }\n\n};\n\nexport default connect(mapStateToProps, {logout, getAuthUserProfile})(HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControl\";\r\nimport {required} from \"../utilits/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, setCaptcha} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../Common/FormsControl.module.css\"\r\nimport styleLogin from \"./Login.module.css\"\r\nimport reload from '../../images/reload.png'\r\n\r\nconst Login = ({login, isAuth, captchaUrl, setCaptcha}) => {\r\n    let onSubmit = ({email, password, rememberMe, captcha, ...formData}) => {\r\n        login(email, password, rememberMe, captcha)\r\n    };\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div className={styleLogin.wrapper}>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} setCaptcha={setCaptcha}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl, setCaptcha}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styleLogin.loginForm}>\r\n            <h2>Sign in</h2>\r\n            {createField('email', 'Email', Input, [required], {type: 'text'})}\r\n            {createField('password', 'Password', Input, [required], {type: 'password'})}\r\n            <div className={styleLogin.checkbox}>\r\n                {createField('rememberMe', null, 'input', null, {type: 'checkbox'}, 'Remember me')}\r\n            </div>\r\n            <div className={styles.loginError}>\r\n                {error}\r\n            </div>\r\n            <div className={styleLogin.captcha}>\r\n                <div>\r\n                    <img src={captchaUrl}/>\r\n                    {captchaUrl && <img src={reload} onClick={setCaptcha} className={styleLogin.reloadImg}/>}\r\n                </div>\r\n                <div>\r\n                    {captchaUrl && createField('captcha', 'captcha', Input, [required])}\r\n                </div>\r\n            </div>\r\n            <div >\r\n                <button className={styleLogin.loginBtn}>Sign in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login, setCaptcha})(Login)\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social-network/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    debugger\r\n    let promise = dispatch(getAuthUserData());\r\n    await Promise.all([promise]);\r\n    dispatch(initializedSuccess())\r\n};\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    users: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n};","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Header/Navbar/NavBar\";\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport ProfileDataReduxForm from \"./components/Profil/Description/ProfileDataReduxForm\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profil/ProfileContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        } else if (!this.props.isAuth) {\n            return <Login/>\n        }\n        return (\n            <>\n                <div className='appWrapper'>\n                    {this.props.initialized && <HeaderContainer/>}\n                    <div className='app_wrapper_profile'>\n                        <Switch>\n                        <Route exact path to='/' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                        </Switch>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    isAuth: state.auth.isAuth\n});\n\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\n\nlet SocialApp = (props) => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\nReactDOM.render(\n    <SocialApp/>\n    , document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBarWrapper\":\"NavBar_navBarWrapper__3_9uH\",\"item\":\"NavBar_item__-7zU1\",\"activeLink\":\"NavBar_activeLink__2FzHu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__1S70_\",\"loginError\":\"FormsControl_loginError__2m793\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__8qHAB\",\"photo\":\"User_photo__26D2M\",\"status\":\"User_status__3rzYE\",\"unfBtn\":\"User_unfBtn__1axb2\",\"follBtn\":\"User_follBtn__33eE9\",\"fullName\":\"User_fullName__1fAcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__2OAZh\",\"loginForm\":\"Login_loginForm__2_d08\",\"checkbox\":\"Login_checkbox__32Lmv\",\"loginBtn\":\"Login_loginBtn__3fegC\",\"captcha\":\"Login_captcha__MSo3R\",\"reloadImg\":\"Login_reloadImg__BPIGA\"};","import React from 'react';\r\nimport preloader from \"../../../images/Spinner-1s-200px.svg\";\r\nimport style from \"./Preloader.module.css\"\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <img src={preloader}/>\r\n        </div>\r\n        )\r\n\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__1aiAx\",\"usersPage\":\"Paginator_usersPage__3bBdp\",\"activePage\":\"Paginator_activePage__1uTtr\",\"nextBtn\":\"Paginator_nextBtn__25Tfy\",\"prevBtn\":\"Paginator_prevBtn__1TW5f\"};","import React from 'react'\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__2tQjr\",\"users\":\"Users_users__tFwSo\",\"paginator\":\"Users_paginator__TFNfs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__25gid\",\"headerContent\":\"Header_headerContent__GGuQ1\",\"loginWrapper\":\"Header_loginWrapper__1Xyon\",\"loginContent\":\"Header_loginContent__MtDav\"};","module.exports = __webpack_public_path__ + \"static/media/users-vector-icon-png_260862.13988554.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileDataReduxForm_content__DSZqv\",\"lookForJob\":\"ProfileDataReduxForm_lookForJob__38x54\"};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'social-network/profilePage/ADD_POST';\r\nconst SET_USER_PROFILE = 'social-network/profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'social-network/profilePage/SET_USER_STATUS';\r\nconst DELETE_POST = 'social-network/profilePage/DELETE_POST';\r\nconst SAVE_PHOTO = 'social-network/profilePage/SAVE_PHOTO';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: '1', post: 'How are you my dear friends', likeCounts: '60'},\r\n        {id: '2', post: 'Its my first project', likeCounts: '67'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let post = {\r\n                id: '3', post: action.newTextPost, likeCounts: '0'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, post],\r\n            };\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return  {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newTextPost) => ({type: ADD_POST, newTextPost});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateUserStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    } else {\r\n        dispatch(setUserStatus(response.data.messages))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getUserProfile(userId))\r\n    }else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;\r\n\r\n\r\n"],"sourceRoot":""}