{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Dialog.module.css","components/Dialogs/Dialog.js","components/Dialogs/Dialogs.js","components/Dialogs/DialogsContainer.js"],"names":["module","exports","Dialog","props","className","style","dialog","to","dialogId","activeClassName","activeLink","userName","Dialogs","useState","message","setMessage","s","dialogs","map","d","key","id","messages","selectedDialogId","preTitle","messagesBlock","length","m","senderName","body","value","onChange","e","currentTarget","rows","onClick","sendMessage","DialogsContainer","this","init","match","params","userId","prevProps","prevState","snapshot","update","React","Component","compose","connect","state","dialogsPage","withRouter","withAuthRedirect"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,0BAA0B,SAAW,0BAA0B,cAAgB,+BAA+B,QAAU,2B,oBCAxLD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,wJCehDC,EAZA,SAACC,GACZ,OACI,yBAAKC,UAAWC,IAAMC,QAClB,kBAAC,IAAD,CAASC,GAAE,mBAAcJ,EAAMK,UAAYC,gBAAiBJ,IAAMK,YAC9D,6BACKP,EAAMQ,aC2CZC,EAhDC,SAACT,GAAW,IAAD,EACOU,mBAAS,IADhB,mBAChBC,EADgB,KACPC,EADO,KAMvB,OACI,yBAAKX,UAAWY,IAAEC,SACd,6BACI,uCACCd,EAAMc,QAAQC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAQC,IAAKD,EAAEE,GAAIb,SAAUW,EAAEE,GAAIV,SAAUQ,EAAER,eAE3E,yBAAKP,UAAWY,IAAEM,UACd,yCACEnB,EAAMoB,kBAAoB,yBAAKnB,UAAWY,IAAEQ,UAAlB,wBAExBrB,EAAMoB,kBACN,yBAAKnB,UAAWY,IAAES,eACd,6BACMtB,EAAMmB,SAASI,OAAS,EAAKvB,EAAMmB,SAASJ,KAAI,SAAAS,GAAC,OAAI,yBAAKP,IAAKO,EAAEN,GACPjB,UAAWY,IAAEF,SACrE,6BACKa,EAAEC,YAEP,6BACKD,EAAEE,UAED,8CAEd,6BACI,8BAAUC,MAAOhB,EAASiB,SAAU,SAACC,GACjCjB,EAAWiB,EAAEC,cAAcH,QAC5BI,KAAK,MACR,6BACI,4BAAQC,QAAS,WA/BzChC,EAAMiC,YAAYjC,EAAMoB,iBAAkBT,GAC1CC,EAAW,MA8Ba,c,wCC9B1BsB,E,4LAEEC,KAAKnC,MAAMoC,KAAKD,KAAKnC,MAAMqC,MAAMC,OAAOC,U,yCAEzBC,EAAWC,EAAWC,GAClCP,KAAKnC,MAAMqC,MAAMC,OAAOC,SAAWC,EAAUH,MAAMC,OAAOC,QACzDJ,KAAKnC,MAAM2C,OAAOR,KAAKnC,MAAMqC,MAAMC,OAAOC,U,+BAK9C,OACI,kBAAC,EAAYJ,KAAKnC,W,GAZC4C,IAAMC,WA0BtBC,4BAAQC,aARD,SAACC,GACnB,MAAO,CACHlC,QAASkC,EAAMC,YAAYnC,QAC3BK,SAAU6B,EAAMC,YAAY9B,SAC5BC,iBAAkB4B,EAAMC,YAAY7B,oBAII,CAACgB,SAAMO,WAAQV,kBAC3DiB,IACAC,IAFWL,CAGdZ","file":"static/js/4.df165e6b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xx2s\",\"messages\":\"Dialogs_messages__3bNMx\",\"preTitle\":\"Dialogs_preTitle__2bQ6n\",\"messagesBlock\":\"Dialogs_messagesBlock__1KsOw\",\"message\":\"Dialogs_message__qD0pm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__36BgN\",\"activeLink\":\"Dialog_activeLink__1cTVp\"};","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from './Dialog.module.css'\r\n\r\nconst Dialog = (props) => {\r\n    return (\r\n        <div className={style.dialog}>\r\n            <NavLink to={`/dialogs/${props.dialogId}`} activeClassName={style.activeLink}>\r\n                <div>\r\n                    {props.userName}\r\n                </div>\r\n            </NavLink>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Dialog;","import React, {useState} from 'react';\nimport s from './Dialogs.module.css';\nimport Dialog from \"./Dialog\";\n\nconst Dialogs = (props) => {\n    const [message, setMessage] = useState('');\n    const sendMessage = () => {\n        props.sendMessage(props.selectedDialogId, message);\n        setMessage('');\n    };\n    return (\n        <div className={s.dialogs}>\n            <div>\n                <h3>Dialogs</h3>\n                {props.dialogs.map(d => <Dialog key={d.id} dialogId={d.id} userName={d.userName}/>)}\n            </div>\n            <div className={s.messages}>\n                <h3>Messages</h3>\n                {!props.selectedDialogId && <div className={s.preTitle}>Please select dialog</div>}\n                {\n                    props.selectedDialogId &&\n                    <div className={s.messagesBlock}>\n                        <div>\n                            {(props.messages.length > 0) ? props.messages.map(m => <div key={m.id}\n                                                                                        className={s.message}>\n                                <div>\n                                    {m.senderName}\n                                </div>\n                                <div>\n                                    {m.body}\n                                </div>\n                            </div>) : <span>No messages</span>}\n                        </div>\n                        <div>\n                            <textarea value={message} onChange={(e) => {\n                                setMessage(e.currentTarget.value)\n                            }} rows=\"3\"/>\n                            <div>\n                                <button onClick={() => {\n                                    sendMessage()\n                                }}>Send\n                                </button>\n                            </div>\n                        </div>\n\n                    </div>\n                }\n            </div>\n        </div>\n    )\n};\n\nexport default Dialogs;","import React from 'react';\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\nimport {init, update, sendMessage} from \"../../redux/dialogsPageReducer\";\nimport {withRouter} from \"react-router-dom\";\n\nclass DialogsContainer extends React.Component {\n    componentDidMount() {\n        this.props.init(this.props.match.params.userId)\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if(this.props.match.params.userId !== prevProps.match.params.userId){\n            this.props.update(this.props.match.params.userId)\n        }\n    }\n\n    render(){\n        return (\n            <Dialogs {...this.props}/>\n        )\n    }\n\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        dialogs: state.dialogsPage.dialogs,\n        messages: state.dialogsPage.messages,\n        selectedDialogId: state.dialogsPage.selectedDialogId\n    }\n};\n\nexport default compose(connect(mapStateToProps, {init, update, sendMessage}),\n    withRouter,\n    withAuthRedirect)\n(DialogsContainer);"],"sourceRoot":""}