{"version":3,"sources":["redux/dialogsPageReducer.js","components/Sidebar/Sidebar.module.css","components/Common/Paginator/Paginator.module.css","images/users-vector-icon-png_260862.jpg","images/Spinner-1s-200px.svg","components/Navbar/NavBar.module.css","api/api.js","components/Sidebar/Friends/Friends.js","components/Sidebar/Sidebar.js","components/Sidebar/SidebarContainer.js","components/Navbar/NavBar.js","components/News/News.js","components/Music/Music.js","components/Settings/Settings.js","components/utilits/objectsHelper.js","redux/usersPageReducer.js","components/Common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/appReducer.js","redux/sideBarReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/Common/FormsControl.js","components/Common/FormsControl.module.css","components/utilits/validators.js","components/Common/Preloader/Preloader.js","components/Users/Users.module.css","components/Sidebar/Friends/Friends.module.css","components/Header/Header.module.css","redux/profilePageReducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessage","newTextMessage","type","dialogsPageReducer","state","action","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","sizePage","get","then","response","data","unfollowUsers","delete","followUsers","post","authAPI","getAuthUserData","login","email","password","rememberMe","logout","profileAPI","getUserProfile","userId","getUserStatus","updateUserStatus","status","put","Friends","props","className","s","listFriends","src","Sidebar","friendsElement","friends","map","friend","sidebar","SidebarContainer","connect","dispatch","NavBar","nav","item","to","activeClassName","activeLink","News","Music","Settings","updateObjectInArray","items","itemsId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGES","TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalCountItems","isFetching","followingInProgress","portionSize","setIsFetching","setFollowingInProgress","followUnFollowFlow","apiMethod","actionCreator","a","async","resultCode","usersPageReducer","followed","pageNumber","countUsers","filter","Paginator","onSetPages","countPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftBorderPortion","rightBorderPortion","onClick","p","styles","usersPage","User","photos","unFollow","follow","photo","small","userPhoto","disabled","some","Users","getTotalCountUsers","getSizePage","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","followSuccess","unFollowSuccess","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","loginError","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sideBarReducer","reducers","combineReducers","profilePage","profilePageReducer","dialogsPage","formReducer","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","compose","withRouter","promise","Promise","all","SocialApp","ReactDOM","document","getElementById","FormControl","input","meta","hasError","touched","children","Textarea","restProps","placeholder","component","validators","text","validate","value","maxLengthCreator","maxLength","preloader","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","posts","likeCounts","profile","addPost","newTextPost","setUserStatus","postId"],"mappings":"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","file":"static/js/main.dc912af1.chunk.js","sourcesContent":["const SEND_MESSAGE = 'social-network/dialogsPage/SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: '1', name: 'Pasha'},\r\n        {id: '2', name: 'Oleg'},\r\n        {id: '3', name: 'Nastya'},\r\n        {id: '4', name: 'Alex'},\r\n        {id: '5', name: 'John'}\r\n    ],\r\n    messages: [\r\n        {id: '1', message: 'Hello my dear friend'},\r\n        {id: '2', message: 'How are you, BRO'},\r\n        {id: '3', message: 'Where is my socks'}\r\n    ],\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let message = {\r\n                id: '4', message: action.newTextMessage\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, message],\r\n                newTextMessage: ''\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendMessage = (newTextMessage) => ({type: SEND_MESSAGE, newTextMessage});\r\n\r\nexport default dialogsPageReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__20WZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Paginator_usersPage__3bBdp\"};","module.exports = __webpack_public_path__ + \"static/media/users-vector-icon-png_260862.13988554.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.b0fb2661.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__3NF4E\",\"item\":\"NavBar_item__2seVN\",\"activeLink\":\"NavBar_activeLink__16Ler\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': 'f886d0ad-c005-4c6a-95be-b337dfab64f4'\r\n    }\r\n})\r\n\r\nexport const usersAPI ={\r\n    getUsers: (currentPage, sizePage) => {\r\n        return instance.get(`users?page=${currentPage}&count=${sizePage}`,\r\n        ).then(response=> {\r\n            return  response.data\r\n        })\r\n    },\r\n    unfollowUsers: (id)=>{\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    followUsers: (id)=>{\r\n        return instance.post(`follow/${id}`, {})\r\n    }\r\n};\r\n\r\nexport const authAPI ={\r\n    getAuthUserData: () => {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login: (email, password, rememberMe) => {\r\n      return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout: () => {\r\n      return instance.delete(`auth/login`)\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile: (userId) => {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getUserStatus: (userId) => {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus: (status) => {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n};\r\n","import React from 'react';\r\nimport s from './Friends.module.css'\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div className={s.listFriends}>\r\n            <div>\r\n            <img src='http://www.gamer.ru/system/attached_images/images/000/412/647/original/awesome_smiley___engineer_tf2_by_sitic.png'/>\r\n            </div>\r\n            <div className={s.name}>\r\n                {props.name}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends;","import React from 'react';\nimport Friends from \"./Friends/Friends\";\nimport s from './Sidebar.module.css'\n\nconst Sidebar = (props) => {\n    let friendsElement = props.friends.map(friend => <Friends name={friend.name}/>);\n    return (\n        <div className={s.sidebar}>\n            <span>Friends</span>\n            <div >\n            {friendsElement}\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar;","import React from 'react';\nimport Sidebar from \"./Sidebar\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state) => {\n    return {\n        friends: state.sidebar.friends\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n\n    }\n}\n\nconst SidebarContainer = connect (mapStateToProps, mapDispatchToProps) (Sidebar)\n\nexport default SidebarContainer;","import React from 'react';\nimport s from './NavBar.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport SidebarContainer from \"../Sidebar/SidebarContainer\";\n\nconst NavBar = () => {\n    return (\n        <div className={s.nav}>\n            <div className={s.item}>\n                <NavLink to='/Profile' activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/Dialogs'activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/news'activeClassName={s.activeLink}>News</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/Music'activeClassName={s.activeLink}>Music</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/Settings'activeClassName={s.activeLink}>Settings</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/Users'activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n            <div>\n                <SidebarContainer/>\n            </div>\n        </div>\n    )\n}\n\nexport default NavBar;","import React from 'react';\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    )\n}\n\nexport default News;","import React from 'react';\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\n\nexport default Music;","import React from 'react';\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\n\nexport default Settings;","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../components/utilits/objectsHelper\";\r\n\r\nconst FOLLOW = 'social-network/userPage/FOLLOW';\r\nconst UNFOLLOW = 'social-network/userPage/UNFOLLOW';\r\nconst SET_USERS = 'social-network/userPage/SET_USERS';\r\nconst SET_PAGES = 'social-network/userPage/SET_PAGES';\r\nconst TOTAL_COUNT_USERS = 'social-network/userPage/TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'social-network/userPage/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'social-network/userPage/FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCountItems: 50,\r\n    sizePage: 10,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_PAGES: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n        case TOTAL_COUNT_USERS: {\r\n            return {\r\n                ...state,\r\n                totalCountItems: action.countUsers\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPages = (pageNumber) => ({type: SET_PAGES, pageNumber});\r\nexport const setTotalCountUsers = (countUsers) => ({type: TOTAL_COUNT_USERS, countUsers});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const setFollowingInProgress = (isFetching, userId) => ({type: FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (currentPage, sizePage) => async (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, sizePage);\r\n    dispatch(setIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n    dispatch(setPages(currentPage))\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    let response = await apiMethod;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator)\r\n    }\r\n    dispatch(setFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.unfollowUsers(userId), unFollowSuccess(userId))\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.followUsers(userId), followSuccess(userId))\r\n};\r\n\r\n\r\nexport default usersPageReducer;","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalCountItems, sizePage, currentPage, onSetPages, portionSize}) => {\r\n    let countPages = Math.ceil(totalCountItems / sizePage);\r\n    let pages = [];\r\n    for (let i = 1; i <= countPages; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(countPages / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftBorderPortion = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorderPortion = portionNumber * portionSize;\r\n    return (\r\n        <div>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>\r\n            }\r\n            {pages.filter(p => p >= leftBorderPortion && p <= rightBorderPortion).map(p => {\r\n                return <span className={currentPage === p && styles.usersPage} onClick={() => {\r\n                    onSetPages(p)\r\n                }}>{p}</span>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({userId, photos, followed, name, status, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                <NavLink to={`/profile/${userId}`}>\r\n                    <img className={styles.photo} src={photos.small !== null ? photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {followed ? <button disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        unFollow(userId)\r\n                    }}>Unfollow</button> :\r\n                    <button disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        follow(userId)\r\n                    }}>Follow</button>}\r\n            </div>\r\n            <span>\r\n                        <div>\r\n                            {name}\r\n                        </div>\r\n                        <div>\r\n                            {status}\r\n                        </div>\r\n                    </span>\r\n            <span>\r\n                        <div>\r\n                            {'u.location.country'}\r\n                        </div>\r\n                        <div>\r\n                            {'u.location.city'}\r\n                        </div>\r\n                    </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalCountItems, portionSize, sizePage, currentPage, onSetPages, users, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div>\r\n           <Paginator totalCountItems={totalCountItems} sizePage={sizePage}\r\n                      currentPage={currentPage} onSetPages={onSetPages}\r\n                      portionSize={portionSize}\r\n           />\r\n            {\r\n                users.map(u => <User userId={u.id} status={u.status} name={u.name} followed={u.followed} photos={u.photos}\r\n                                     followingInProgress={followingInProgress}\r\n                                     unFollow={unFollow}\r\n                                     follow={follow}\r\n                                     className={styles.users}/>)\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.users.users\r\n};\r\n\r\nexport const getTotalCountUsers = (state) => {\r\n   return state.users.totalCountItems\r\n};\r\n\r\nexport const getSizePage = (state) => {\r\n    return state.users.sizePage\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress\r\n};\r\nexport const getPortionSize = (state) => {\r\n    return state.users.portionSize\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unFollow} from \"../../redux/usersPageReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching, getPortionSize,\r\n    getSizePage,\r\n    getTotalCountUsers, getUsers\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.sizePage)\r\n    }\r\n\r\n    onSetPages = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.sizePage)\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div>{this.props.isFetching ? <Preloader/> : null} </div>\r\n                <div>\r\n                    <Users totalCountItems={this.props.totalCountItems}\r\n                           portionSize={this.props.portionSize}\r\n                           sizePage={this.props.sizePage}\r\n                           currentPage={this.props.currentPage}\r\n                           onSetPages={this.onSetPages}\r\n                           users={this.props.users}\r\n                           unFollow={this.props.unFollow}\r\n                           follow={this.props.follow}\r\n                           followingInProgress={this.props.followingInProgress}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalCountItems: getTotalCountUsers(state),\r\n        sizePage: getSizePage(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    requestUsers\r\n})(UsersContainer);","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n    return (\n        <div className={s.header}>\n            <img src='https://avatanplus.com/files/resources/mid/5cd273c518f1216a961439ee.png'/>\n            <div className={s.loginBlock}>\n                {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>: <NavLink to={'/login'}>Login</NavLink>}\n            </div>\n        </div>\n    )\n};\n\nexport default Header;","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isFetching: false,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.getAuthUserData();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n        await authAPI.logout();\r\n        dispatch(setAuthUserData(null, null, null, false))\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/authReducer\";\n\nclass HeaderContainer extends React.Component{\n\n    render() {\n        return (\n            <Header {...this.props}/>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return{\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    }\n\n};\n\nexport default connect (mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControl\";\r\nimport {required} from \"../utilits/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../Common/FormsControl.module.css\"\r\n\r\nconst Login = ({login, isAuth}) => {\r\n    let onSubmit = ({email, password, rememberMe, ...formData}) => {\r\n        login(email, password, rememberMe)\r\n    };\r\n    if(isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('email', 'Email', Input,[required])}\r\n            {createField('password', 'Password', Input,[required], {type: 'password'})}\r\n            {createField('rememberMe', null,'input', null, {type: 'checkbox'}, 'remember me')}\r\n            <div className={styles.loginError}>\r\n                {error}\r\n            </div>\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login})(Login)\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social-network/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    await Promise.all([promise]);\r\n    dispatch(initializedSuccess())\r\n};\r\n\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        {name: 'Vika'},\r\n        {name: 'Olga'},\r\n        {name: 'Boris'}\r\n    ]\r\n}\r\n\r\nconst sideBarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sideBarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport sideBarReducer from \"./sideBarReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    sidebar: sideBarReducer,\r\n    users: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n};","import React, {Component,Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Navbar/NavBar\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profil/ProfileContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if(!this.props.initialized){\n            return <Preloader/>\n        }\n        return (\n                <div className='appWrapper'>\n                    <HeaderContainer/>\n                    <Navbar/>\n                    <div className='app_wrapper_profile'>\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/news' render={() => <News/>}/>\n                        <Route path='/music' render={() => <Music/>}/>\n                        <Route path='/settings' render={() => <Settings/>}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                    </div>\n                </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n});\n\nlet AppContainer =  compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\n\nlet SocialApp = (props) => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\nReactDOM.render(\n    <SocialApp/>\n    , document.getElementById('root')\n);\n","import React from 'react'\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../utilits/validators\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <div className={hasError ? styles.error : ''}>\r\n                {props.children}\r\n            </div>\r\n            <div className={styles.error}>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const createField = (name, placeholder, component, validators, props = {}, text = '') => (\r\n    <div>\r\n        <Field name={name} placeholder={placeholder} component={component} validate = {validators} {...props}/> {text}\r\n    </div>\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__1S70_\",\"loginError\":\"FormsControl_loginError__2m793\"};","import React from 'react'\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n    return undefined\r\n}","import React from 'react';\r\nimport preloader from \"../../../images/Spinner-1s-200px.svg\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n        )\r\n\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__tFwSo\",\"photo\":\"Users_photo__1JreJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listFriends\":\"Friends_listFriends__2v1S1\",\"name\":\"Friends_name__1sxdB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__25gid\",\"loginBlock\":\"Header_loginBlock__3arcq\"};","import {profileAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'social-network/profilePage/ADD_POST';\r\nconst SET_USER_PROFILE = 'social-network/profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'social-network/profilePage/SET_USER_STATUS';\r\nconst DELETE_POST = 'social-network/profilePage/DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: '1', post: 'How are you my dear friends', likeCounts: '60'},\r\n        {id: '2', post: 'Its my first project', likeCounts: '67'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let post = {\r\n                id: '3', post: action.newTextPost, likeCounts: '0'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, post],\r\n            };\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newTextPost) => ({type: ADD_POST, newTextPost});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateUserStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    } else {\r\n        dispatch(setUserStatus(response.data.messages))\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;\r\n\r\n\r\n"],"sourceRoot":""}