{"version":3,"sources":["api/api.js","redux/profilePageReducer.js","components/Common/FormsControl.js","redux/dialogsPageReducer.js","images/Spinner-1s-200px.svg","components/Common/Preloader/Preloader.module.css","images/reload.png","components/Profil/Description/ProfileDataReduxForm.js","components/Header/Navbar/NavBar.js","components/utilits/objectsHelper.js","redux/usersPageReducer.js","components/Common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/Login.js","redux/appReducer.js","redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/Header/Navbar/NavBar.module.css","components/Common/FormsControl.module.css","components/Users/User.module.css","components/Login/Login.module.css","components/Common/Preloader/Preloader.js","components/Common/Paginator/Paginator.module.css","components/utilits/validators.js","components/Users/Users.module.css","components/Header/Header.module.css","images/users-vector-icon-png_260862.jpg","components/Profil/Description/ProfileDataReduxForm.module.css","hoc/withAuthRedirect.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","sizePage","get","then","response","data","unfollowUsers","id","delete","followUsers","post","authAPI","getAuthUserData","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptcha","profileAPI","getUserProfile","userId","getUserStatus","updateUserStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","dialogsApi","getDialogs","getMessages","startDialog","sendMessage","message","body","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SAVE_PHOTO","initialState","posts","likeCounts","addPost","newTextPost","type","setUserStatus","deletePost","postId","dispatch","a","async","resultCode","messages","photos","getState","auth","stopSubmit","_error","Promise","reject","profilePageReducer","state","action","filter","p","FormControl","input","meta","props","hasError","touched","error","className","styles","children","Input","restProps","createField","name","placeholder","component","validators","text","validate","GET_DIALOGS_SUCCESS","GET_MESSAGES_SUCCESS","SEND_MESSAGE_SUCCESS","PUT_UP_DIALOG","dialogs","selectedDialogId","putUpDialog","setCurrentDialog","payload","sendMessageSuccess","items","dialogsPage","find","d","init","update","dialogsPageReducer","module","exports","ProfileDataReduxForm","reduxForm","form","handleSubmit","s","content","onSubmit","loginError","lookForJob","NavBar","navBarWrapper","item","to","activeClassName","activeLink","updateObjectInArray","itemsId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_PAGES","TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalCountItems","isFetching","followingInProgress","portionSize","setIsFetching","setFollowingInProgress","followUnFollowFlow","apiMethod","actionCreator","usersPageReducer","followed","pageNumber","countUsers","Paginator","onSetPages","countPages","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftBorderPortion","rightBorderPortion","wrapper","prevBtn","onClick","usersPage","activePage","nextBtn","User","unFollow","follow","user","photo","src","small","userPhoto","unfBtn","disabled","some","follBtn","fullName","Users","paginator","getTotalCountUsers","getSizePage","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","requestUsers","this","Preloader","React","Component","compose","connect","followSuccess","unFollowSuccess","totalCount","withAuthRedirect","Header","header","headerContent","loginWrapper","isAuth","loginContent","alt","style","color","fontWeight","fontSize","SET_USER_DATA","SET_CAPTCHA_SUCCESS","captchaUrl","setAuthUserData","setCaptcha","url","authReducer","HeaderContainer","getAuthUserProfile","LoginReduxForm","styleLogin","loginForm","required","checkbox","reload","reloadImg","loginBtn","length","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","formReducer","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","AppContainer","withRouter","promise","all","SocialApp","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"2GAAA,uLAEMA,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAQ,gDACRC,QAAS,CACL,UAAW,0CAINC,EAAU,CACnBC,SAAU,SAACC,EAAaC,GACpB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IACrDE,MAAK,SAAAC,GACH,OAAQA,EAASC,SAGzBC,cAAe,SAACC,GACZ,OAAOd,EAASe,OAAT,iBAA0BD,KAErCE,YAAa,SAACF,GACV,OAAOd,EAASiB,KAAT,iBAAwBH,GAAM,MAIhCI,EAAS,CAClBC,gBAAiB,WACb,OAAOnB,EAASS,IAAT,YAEXW,MAAO,SAACC,EAAOC,EAAUC,GAA8B,IAAlBC,EAAiB,uDAAT,KAC3C,OAAOxB,EAASiB,KAAT,aAA4B,CAACI,QAAOC,WAAUC,aAAYC,aAEnEC,OAAQ,WACN,OAAOzB,EAASe,OAAT,gBAIAW,EAAc,CACvBC,WAAY,WACR,OAAO3B,EAASS,IAAT,8BAIFmB,EAAa,CACtBC,eAAgB,SAACC,GACb,OAAO9B,EAASS,IAAT,kBAAwBqB,KAEnCC,cAAe,SAACD,GACZ,OAAO9B,EAASS,IAAT,yBAA+BqB,KAE1CE,iBAAkB,SAACC,GACf,OAAOjC,EAASkC,IAAT,iBAA+B,CAACD,OAAQA,KAEnDE,UAAW,SAACC,GACR,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBpC,EAASkC,IAAT,gBAA+BG,EAAU,CAC5CjC,QAAS,CACL,eAAgB,0BAI5BoC,YAAa,SAACC,GACV,OAAOzC,EAASkC,IAAT,UAAwBO,KAI1BC,EAAa,CACtBC,WADsB,WAElB,OAAO3C,EAASS,IAAI,YAExBmC,YAJsB,SAIVd,GACR,OAAO9B,EAASS,IAAT,kBAAwBqB,EAAxB,eAEXe,YAPsB,SAOVf,GACR,OAAO9B,EAASkC,IAAT,kBAAwBJ,KAEnCgB,YAVsB,SAUVhB,EAAQiB,GAChB,OAAO/C,EAASiB,KAAT,kBAAyBa,EAAzB,aAA4C,CAACkB,KAAMD,O,kUC3E5DE,EAAW,sCACXC,EAAmB,8CACnBC,EAAkB,6CAClBC,EAAc,yCACdC,EAAa,wCAEfC,EAAe,CACfC,MAAO,CACH,CAACzC,GAAI,IAAKG,KAAM,8BAA+BuC,WAAY,MAC3D,CAAC1C,GAAI,IAAKG,KAAM,uBAAwBuC,WAAY,OAExDf,QAAS,KACTR,OAAQ,IA0CCwB,EAAU,SAACC,GAAD,MAAkB,CAACC,KAAMV,EAAUS,gBAE7CE,EAAgB,SAAC3B,GAAD,MAAa,CAAC0B,KAAMR,EAAiBlB,WACrD4B,EAAa,SAACC,GAAD,MAAa,CAACH,KAAMP,EAAaU,WAG9CjC,EAAiB,SAACC,GAAD,OAAY,SAAOiC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACjBpC,IAAWC,eAAeC,IADT,OAClCnB,EADkC,OAEtCoD,GAP2BtB,EAOH9B,EAASC,KAPO,CAAC+C,KAAMT,EAAkBT,aAK3B,iCALZ,IAACA,OASlBV,EAAgB,SAACD,GAAD,OAAY,SAAOiC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MAChBpC,IAAWG,cAAcD,IADT,OACjCnB,EADiC,OAErCoD,EAASH,EAAcjD,EAASC,OAFK,uCAI5BoB,EAAmB,SAACC,GAAD,OAAY,SAAO8B,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACnBpC,IAAWI,iBAAiBC,IADT,OAEP,KAD7BtB,EADoC,QAE3BC,KAAKsD,WACdH,EAASH,EAAc3B,IAEvB8B,EAASH,EAAcjD,EAASC,KAAKuD,WALD,uCAQ/BhC,EAAY,SAACC,GAAD,OAAU,SAAO2B,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACVpC,IAAWO,UAAUC,IADX,OAEC,KAD5BzB,EAD2B,QAEnBC,KAAKsD,YACbH,GArByBK,EAqBCzD,EAASC,KAAKA,KAAKwD,OArBR,CAACT,KAAMN,EAAYe,YAkB7B,iCAlBH,IAACA,OAwBpB5B,EAAc,SAACC,GAAD,OAAa,SAAOsB,EAAUM,GAAjB,iBAAAL,EAAAC,OAAA,uDAC9BnC,EAASuC,IAAWC,KAAKxC,OADK,WAAAkC,EAAA,MAEfpC,IAAWY,YAAYC,IAFR,UAGJ,KAD5B9B,EAFgC,QAGxBC,KAAKsD,WAHmB,gBAIhCH,EAASlC,EAAeC,IAJQ,8BAMhCiC,EAASQ,YAAW,eAAgB,CAACC,OAAQ7D,EAASC,KAAKuD,SAAS,MANpC,kBAOzBM,QAAQC,OAAO/D,EAASC,KAAKuD,SAAS,KAPb,wCAWzBQ,IA9EY,WAAmC,IAAlCC,EAAiC,uDAAzBtB,EAAcuB,EAAW,uCACzD,OAAQA,EAAOlB,MACX,KAAKV,EACD,IAAIhC,EAAO,CACPH,GAAI,IAAKG,KAAM4D,EAAOnB,YAAaF,WAAY,KAEnD,OAAO,eACAoB,EADP,CAEIrB,MAAM,GAAD,mBAAMqB,EAAMrB,OAAZ,CAAmBtC,MAEhC,KAAKmC,EACD,OAAO,eACAwB,EADP,CAEIrB,MAAOqB,EAAMrB,MAAMuB,QAAO,SAAAC,GAAC,OAAIA,EAAEjE,KAAO+D,EAAOf,YAGvD,KAAKZ,EACD,OAAO,eACA0B,EADP,CAEInC,QAASoC,EAAOpC,UAGxB,KAAKU,EACD,OAAO,eACAyB,EADP,CAEI3C,OAAQ4C,EAAO5C,SAGvB,KAAKoB,EACD,OAAO,eACAuB,EADP,CAEInC,QAAQ,eAAKmC,EAAMnC,QAAZ,CAAqB2B,OAAQS,EAAOT,WAGnD,QACI,OAAOQ,K,+KChDbI,G,MAAc,SAAC,GAA4B,EAA3BC,MAA4B,IAArBC,EAAoB,EAApBA,KAASC,EAAW,gCACzCC,EAAWF,EAAKG,SAAWH,EAAKI,MACpC,OACI,6BACI,yBAAKC,UAAWH,EAAWI,IAAOF,MAAQ,IACrCH,EAAMM,UAEX,yBAAKF,UAAWC,IAAOF,OAClBF,GAAY,8BAAOF,EAAKI,WAY5BI,EAAQ,SAACP,GAAW,IACtBF,EAA6BE,EAA7BF,MAAgBU,GAAaR,EAAtBD,KADc,YACQC,EADR,mBAE5B,OAAO,kBAACH,EAAgBG,EAAO,2CAAWF,EAAWU,MAG5CC,EAAc,SAACC,EAAMC,EAAaC,EAAWC,GAA/B,IAA2Cb,EAA3C,uDAAmD,GAAIc,EAAvD,uDAA8D,GAA9D,OACvB,6BACI,kBAAC,IAAD,eAAOJ,KAAMA,EAAMC,YAAaA,EAAaC,UAAWA,EAAWG,SAAYF,GAAgBb,IADnG,IAC6Gc,K,kLC9B3GE,EAAsB,iDACtBC,EAAuB,kDAEvBC,EAAuB,kDACvBC,EAAgB,2CAElBhD,EAAe,CACfiD,QAAS,GACTpC,SAAU,GACVqC,iBAAkB,MA8BTC,EAAc,SAAC3E,GAAD,MAAa,CAAC6B,KAAM2C,EAAexE,WACjD4E,EAAmB,SAACF,GAAD,MAAuB,CAAC7C,KAAMyC,EAAsBO,QAAS,CAACH,sBAGjFI,EAAqB,SAAC7D,GAAD,MAAc,CAACY,KAAM0C,EAAsBtD,YAEhEJ,EAAa,kBAAM,SAAOoB,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACPtB,IAAWC,cADJ,OACxBhC,EADwB,OAE5BoD,GAV8BwC,EAUH5F,EAASC,KAVO,CAAC+C,KAAMwC,EAAqBQ,QAAS,CAACJ,cAQrD,iCARC,IAACA,OAYrB3D,EAAc,SAACd,GAAD,OAAY,SAAOiC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACdtB,IAAWE,YAAYd,IADT,OAC/BnB,EAD+B,OAEnCoD,GAb+BI,EAaHxD,EAASC,KAAKiG,MAbG,CAAClD,KAAMyC,EAAsBO,QAAS,CAACxC,eAWjD,iCAXL,IAACA,OAetBtB,EAAc,SAACf,GAAD,OAAY,SAAOiC,EAAUM,GAAjB,SAAAL,EAAAC,OAAA,kEAAAD,EAAA,MAC7BtB,IAAWG,YAAYf,IADM,OAE/BuC,IAAWyC,YAAYP,QAAQQ,MAAK,SAAAC,GAAC,OAAIA,EAAElG,KAAOgB,KAClDiC,EAAS0C,EAAY3E,IAErBiC,EAASpB,KALsB,uCAQ1BG,EAAc,SAAChB,EAAQiB,GAAT,OAAqB,SAAOgB,EAAUM,GAAjB,eAAAL,EAAAC,OAAA,kEAAAD,EAAA,MACvBtB,IAAWI,YAAYhB,EAAQiB,IADR,OACxCpC,EADwC,OAE5CoD,EAAS6C,EAAmBjG,EAASC,KAAKA,KAAKmC,UAC3CsB,IAAWyC,YAAYP,QAAQQ,MAAK,SAAAC,GAAC,OAAIA,EAAElG,KAAOgB,KAClDiC,EAAS0C,EAAY3E,IAErBiC,EAASpB,KAN+B,uCAUnCsE,EAAO,SAACnF,GAAD,OAAY,SAAOiC,GAAP,SAAAC,EAAAC,OAAA,oDACvBnC,EADuB,kCAAAkC,EAAA,MAElBD,EAASlB,EAAYf,KAFH,OAGxBiC,EAASpB,KACToB,EAASnB,EAAYd,IACrBiC,EAAS2C,EAAiB5E,IALF,sBAOxBiC,EAASpB,KAPe,uCAanBuE,EAAS,SAACpF,GAAD,OAAY,SAAOiC,GAAP,SAAAC,EAAAC,OAAA,gDAC1BF,EAASnB,EAAYd,IACrBiC,EAAS2C,EAAiB5E,IAFA,uCAKnBqF,IA7EY,WAAmC,IAAlCvC,EAAiC,uDAAzBtB,EAAcuB,EAAW,uCACzD,OAAQA,EAAOlB,MACX,KAAKwC,EACL,KAAKC,EACL,IAdmB,gDAef,OAAO,eACAxB,EADP,GAEOC,EAAO8B,SAElB,KAAKL,EACD,OAAO,eACA1B,EADP,CAEI2B,QAAQ,CAAE3B,EAAM2B,QAAQQ,MAAK,SAACC,GAAD,OAAOA,EAAElG,KAAO+D,EAAO/C,WAA7C,mBAAyD8C,EAAM2B,QAAQzB,QAAO,SAAAkC,GAAC,OAAGA,EAAElG,KAAO+D,EAAO/C,cAElH,KAAKuE,EACA,OAAO,eACAzB,EADP,CAEIT,SAAS,GAAD,mBAAMS,EAAMT,UAAZ,CAAsBU,EAAO9B,YAE7C,QACI,OAAO6B,K,oBClCnBwC,EAAOC,QAAU,IAA0B,8C,oBCC3CD,EAAOC,QAAU,CAAC,QAAU,6B,oBCD5BD,EAAOC,QAAU,IAA0B,oC,iCCA3C,sEAqCMC,EAAuBC,YAAU,CACnCC,KAAM,gBADmBD,EA/BL,SAAC,GAAoC,IAAnCE,EAAkC,EAAlCA,aAAuBnC,GAAW,EAApB7C,QAAoB,EAAX6C,OAC7C,OAAO,yBAAKC,UAAWmC,IAAEC,SACrB,0BAAMC,SAAUH,GACXnC,GAAS,yBAAKC,UAAWC,IAAOqC,YAC5BvC,GAEL,6BACI,0CADJ,IACwBM,YAAY,WAAY,YAAaF,IAAO,KAAM,CAAC/B,KAAM,UAEjF,6BACI,yCADJ,IACuBiC,YAAY,UAAW,WAAYF,IAAO,KAAM,CAAC/B,KAAM,UAE9E,yBAAK4B,UAAWmC,IAAEI,YACd,kDADJ,IACgClC,YAAY,iBAAkB,KAAMF,IAAO,KAAM,CAAC/B,KAAM,cAExF,8DAbJ,IAc2BiC,YAAY,4BAA6B,gCAAiCF,IAAO,KAAM,CAAC/B,KAAM,SACrH,6BACI,8CAiBD2D,O,4NCrBAS,EAhBA,WACX,OACI,yBAAKxC,UAAWmC,IAAEM,eACd,yBAAKzC,UAAWmC,IAAEO,MACd,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBT,IAAEU,YAA1C,YAEJ,yBAAK7C,UAAWmC,IAAEO,MACd,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBT,IAAEU,YAA1C,aAEJ,yBAAK7C,UAAWmC,IAAEO,MACd,kBAAC,IAAD,CAASC,GAAG,SAASC,gBAAiBT,IAAEU,YAAxC,Y,uDCdHC,EAAsB,SAACxB,EAAOyB,EAASC,EAAaC,GAC9D,OAAQ3B,EAAM4B,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,eAAII,EAAX,GAAiBF,GAEdE,MCFTC,EAAS,iCACTC,EAAW,mCACXC,EAAY,oCACZC,EAAY,oCACZC,EAAoB,4CACpBC,EAAqB,6CACrBC,EAAwB,gDAE1B3F,EAAe,CACf4F,MAAO,GACPC,gBAAiB,GACjB3I,SAAU,GACVD,YAAa,EACb6I,YAAY,EACZC,oBAAqB,GACrBC,YAAa,IAwDJC,EAAgB,SAACH,GAAD,MAAiB,CAACzF,KAAMqF,EAAoBI,eAC5DI,EAAyB,SAACJ,EAAYtH,GAAb,MAAyB,CAAC6B,KAAMsF,EAAuBG,aAAYtH,WAWnG2H,EAAqB,SAAO1F,EAAUjC,EAAQ4H,EAAWC,GAApC,SAAA3F,EAAAC,OAAA,kEAAAD,EAAA,MACF0F,GADE,OAEU,IAFV,OAEV9I,KAAKsD,YACdH,EAAS4F,GAEb5F,EAASyF,GAAuB,EAAO1H,IALhB,sCAiBZ8H,EAlFU,WAAmC,IAAlChF,EAAiC,uDAAzBtB,EAAcuB,EAAW,uCACvD,OAAQA,EAAOlB,MACX,KAAKgF,EACD,OAAO,eACA/D,EADP,CAEIsE,MAAOb,EAAoBzD,EAAMsE,MAAOrE,EAAO/C,OAAQ,KAAM,CAAC+H,UAAU,MAEhF,KAAKjB,EACD,OAAO,eACAhE,EADP,CAEIsE,MAAOb,EAAoBzD,EAAMsE,MAAOrE,EAAO/C,OAAQ,KAAM,CAAC+H,UAAU,MAEhF,KAAKhB,EACD,OAAO,eACAjE,EADP,CAEIsE,MAAOrE,EAAOqE,QAEtB,KAAKJ,EACD,OAAO,eACAlE,EADP,CAEIrE,YAAasE,EAAOiF,aAG5B,KAAKf,EACD,OAAO,eACAnE,EADP,CAEIuE,gBAAiBtE,EAAOkF,aAGhC,KAAKf,EACD,OAAO,eACApE,EADP,CAEIwE,WAAYvE,EAAOuE,aAG3B,KAAKH,EACD,OAAO,eACArE,EADP,CAEIyE,oBAAqBxE,EAAOuE,WAAP,sBACbxE,EAAMyE,qBADO,CACcxE,EAAO/C,SACtC8C,EAAMyE,oBAAoBvE,QAAO,SAAAhE,GAAE,OAAIA,IAAO+D,EAAO/C,YAGjE,QACI,OAAO8C,I,0CC/BJoF,EA/BC,SAAC,GAGb,IAHoF,IAAtEb,EAAqE,EAArEA,gBAAiB3I,EAAoD,EAApDA,SAAUD,EAA0C,EAA1CA,YAAa0J,EAA6B,EAA7BA,WAAYX,EAAiB,EAAjBA,YAC9DY,EAAaC,KAAKC,KAAKjB,EAAkB3I,GACzC6J,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAEf,IAAIE,EAAeL,KAAKC,KAAKF,EAAaZ,GANyC,EAO3CmB,mBAAS,GAPkC,mBAO9EC,EAP8E,KAO/DC,EAP+D,KAQ/EC,GAAqBF,EAAgB,GAAKpB,EAAc,EACxDuB,EAAqBH,EAAgBpB,EACzC,OACI,yBAAK/D,UAAWC,IAAOsF,SAClBJ,EAAgB,GACjB,4BAAQnF,UAAWC,IAAOuF,QAASC,QAAS,WACxCL,EAAiBD,EAAgB,KACjC,KAEHL,EAAMvF,QAAO,SAAAC,GAAC,OAAIA,GAAK6F,GAAqB7F,GAAK8F,KAAoBpC,KAAI,SAAA1D,GACtE,OAAO,yBAAKQ,UAAWC,IAAOyF,WAAW,4BAAQ1F,UAAWhF,IAAcwE,GAAKS,IAAO0F,WAAYF,QAAS,WACvGf,EAAWlF,KACXA,OAEPyF,EAAeE,GAChB,4BAAQnF,UAAWC,IAAO2F,QAASH,QAAS,WACxCL,EAAiBD,EAAgB,KACjC,O,kCCKDU,EA5BJ,SAAC,GAAqF,IAApFtJ,EAAmF,EAAnFA,OAAQsC,EAA2E,EAA3EA,OAAQyF,EAAmE,EAAnEA,SAAUhE,EAAyD,EAAzDA,KAAM5D,EAAmD,EAAnDA,OAAQoH,EAA2C,EAA3CA,oBAAqBgC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OAChF,OACI,yBAAK/F,UAAWC,IAAO+F,MACnB,6BACI,kBAAC,IAAD,CAASrD,GAAE,mBAAcpG,IACrB,yBAAKyD,UAAWC,IAAOgG,MAAOC,IAAsB,OAAjBrH,EAAOsH,MAAiBtH,EAAOsH,MAAQC,QAGlF,6BACK9B,EAAW,4BAAQtE,UAAWC,IAAOoG,OAAQC,SAAUxC,EAAoByC,MAAK,SAAAhL,GAAE,OAAIA,IAAOgB,KAASkJ,QAAS,WACxGK,EAASvJ,KADL,YAGR,4BAAQyD,UAAWC,IAAOuG,QAASF,SAAUxC,EAAoByC,MAAK,SAAAhL,GAAE,OAAIA,IAAOgB,KAASkJ,QAAS,WACjGM,EAAOxJ,KADX,WAIR,8BACY,yBAAKyD,UAAWC,IAAOwG,UAClBnG,GAEL,yBAAKN,UAAWC,IAAOvD,QAClBA,MCEdgK,EAvBH,SAAC,GAAqH,IAApH9C,EAAmH,EAAnHA,gBAAiBG,EAAkG,EAAlGA,YAAa9I,EAAqF,EAArFA,SAAUD,EAA2E,EAA3EA,YAAa0J,EAA8D,EAA9DA,WAAYf,EAAkD,EAAlDA,MAAOG,EAA2C,EAA3CA,oBAAqBgC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,OACjH,OACI,yBAAK/F,UAAWC,IAAOsF,SACnB,yBAAKvF,UAAWC,IAAO0G,WACnB,kBAAC,EAAD,CAAW/C,gBAAiBA,EAAiB3I,SAAUA,EAC5CD,YAAaA,EAAa0J,WAAYA,EACtCX,YAAaA,KAG5B,yBAAK/D,UAAWC,IAAO0D,OAEfA,EAAMT,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAM5G,OAAQ4G,EAAE5H,GAAImB,OAAQyG,EAAEzG,OAAQ4D,KAAM6C,EAAE7C,KAAMgE,SAAUnB,EAAEmB,SAC1DzF,OAAQsE,EAAEtE,OACViF,oBAAqBA,EACrBgC,SAAUA,EACVC,OAAQA,EACR/F,UAAWC,IAAO0D,c,QCrB9C5I,EAAW,SAACsE,GACrB,OAAOA,EAAMsE,MAAMA,OAGViD,EAAqB,SAACvH,GAChC,OAAOA,EAAMsE,MAAMC,iBAGTiD,EAAc,SAACxH,GACxB,OAAOA,EAAMsE,MAAM1I,UAGV6L,EAAiB,SAACzH,GAC3B,OAAOA,EAAMsE,MAAM3I,aAGV+L,EAAgB,SAAC1H,GAC1B,OAAOA,EAAMsE,MAAME,YAGVmD,GAAyB,SAAC3H,GACnC,OAAOA,EAAMsE,MAAMG,qBAEVmD,GAAiB,SAAC5H,GAC3B,OAAOA,EAAMsE,MAAMI,a,iBCTjBmD,G,2MAKFxC,WAAa,SAACH,GACV,EAAK3E,MAAMuH,aAAa5C,EAAY,EAAK3E,MAAM3E,W,mFAJ/CmM,KAAKxH,MAAMuH,aAAaC,KAAKxH,MAAM5E,YAAaoM,KAAKxH,MAAM3E,Y,+BAQ3D,OACI,oCACI,6BAAMmM,KAAKxH,MAAMiE,WAAa,kBAACwD,EAAA,EAAD,MAAe,KAA7C,KACA,6BACI,kBAAC,EAAD,CAAOzD,gBAAiBwD,KAAKxH,MAAMgE,gBAC5BG,YAAaqD,KAAKxH,MAAMmE,YACxB9I,SAAUmM,KAAKxH,MAAM3E,SACrBD,YAAaoM,KAAKxH,MAAM5E,YACxB0J,WAAY0C,KAAK1C,WACjBf,MAAOyD,KAAKxH,MAAM+D,MAClBmC,SAAUsB,KAAKxH,MAAMkG,SACrBC,OAAQqB,KAAKxH,MAAMmG,OACnBjC,oBAAqBsD,KAAKxH,MAAMkE,4B,GAtB9BwD,IAAMC,WA0CpBC,sBAAQC,aAZD,SAACpI,GACnB,MAAO,CACHsE,MAAO5I,EAASsE,GAChBuE,gBAAiBgD,EAAmBvH,GACpCpE,SAAU4L,EAAYxH,GACtBrE,YAAa8L,EAAezH,GAC5BwE,WAAYkD,EAAc1H,GAC1ByE,oBAAqBkD,GAAuB3H,GAC5C0E,YAAakD,GAAe5H,MAIY,CACxC0G,OLwCc,SAACxJ,GAAD,OAAY,SAACiC,GAC/B0F,EAAmB1F,EAAUjC,EAAQzB,IAASW,YAAYc,GA9BjC,SAACA,GAAD,MAAa,CAAC6B,KAAMgF,EAAQ7G,UA8BcmL,CAAcnL,MKxC7EuJ,SLmCgB,SAACvJ,GAAD,OAAY,SAACiC,GACjC0F,EAAmB1F,EAAUjC,EAAQzB,IAASQ,cAAciB,GAzBjC,SAACA,GAAD,MAAa,CAAC6B,KAAMiF,EAAU9G,UAyBYoL,CAAgBpL,MKnCjF4K,aLiBoB,SAACnM,EAAaC,GAAd,OAA2B,SAAOuD,GAAP,eAAAC,EAAAC,OAAA,uDACnDF,EAASwF,GAAc,IAD4B,WAAAvF,EAAA,MAElC3D,IAASC,SAASC,EAAaC,IAFG,OAE/CI,EAF+C,OAGnDmD,EAASwF,GAAc,IACvBxF,GAVqBmF,EAUHtI,EAAKiG,MAVS,CAAClD,KAAMkF,EAAWK,WAWlDnF,GAT+BgG,EASHnJ,EAAKuM,WATc,CAACxJ,KAAMoF,EAAmBgB,gBAUzEhG,EAXqC,CAACJ,KAAMmF,EAAWgB,WAWrCvJ,IANiC,iCAL/B,IACWwJ,EAFVb,SKTrBkE,KALWL,CAMdN,I,oBC/BcY,GAzBA,SAAClI,GACZ,OAAKA,EAAM1C,QAIP,yBAAK8C,UAAWmC,KAAE4F,QACd,yBAAK/H,UAAWmC,KAAE6F,eACd,yBAAK9B,IAAI,4EACT,6BACI,kBAAC,EAAD,OAEJ,yBAAKlG,UAAWmC,KAAE8F,cACbrI,EAAMsI,OACA,yBAAKlI,UAAWmC,KAAEgG,cACb,yBAAKjC,IAAKtG,EAAM1C,QAAQ2B,OAAOsH,OAASC,IAAWgC,IAAI,kBACvD,6BAAK,0BAAMC,MAAO,CAACC,MAAO,UAAWC,WAAY,OAAQC,SAAU,SAAU5I,EAAM/D,OAAa,uBAAG4J,QAAS7F,EAAM1D,QAAlB,aAGxG,kBAAC,IAAD,CAASyG,GAAI,UAAb,YAhBT,kBAAC0E,EAAA,EAAD,O,SCNToB,GAAgB,oCAChBC,GAAsB,0CAGxB3K,GAAe,CACfxB,OAAQ,KACRV,MAAO,KACPC,MAAO,KACP+H,YAAY,EACZqE,QAAQ,EACRS,WAAY,KACZzL,QAAS,MAiBA0L,GAAkB,SAACrM,EAAQV,EAAOC,EAAOoM,GAAvB,MAAmC,CAC9D9J,KAAMqK,GACNrH,QAAS,CAAC7E,SAAQV,QAAOC,QAAOoM,YAavBtM,GAAkB,kBAAM,SAAO4C,GAAP,uBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACZ9C,IAAQC,mBADI,OAEA,KAD7BR,EAD6B,QAEpBC,KAAKsD,aAAmB,EACRvD,EAASC,KAAKA,KAAlCE,EAD2B,EAC3BA,GAAIM,EADuB,EACvBA,MAAOC,EADgB,EAChBA,MAChB0C,EAASoK,GAAgBrN,EAAIM,EAAOC,GAAO,KAJd,uCAwBxB+M,GAAa,kBAAM,SAAOrK,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACLtC,IAAYC,cADP,OACtBhB,EADsB,OAE5BoD,GArC8BmK,EAqCHvN,EAASC,KAAKyN,IArCK,CAC9C1K,KAAMsK,GACNtH,QAAS,CAACuH,iBAiCkB,iCAnCC,IAACA,OAyCnBI,GA3DK,WAAmC,IAAlC1J,EAAiC,uDAAzBtB,GAAcuB,EAAW,uCAClD,OAAQA,EAAOlB,MACX,KAAKqK,GACL,KAAKC,GACL,IAhBsB,4CAiBlB,OAAO,eACArJ,EADP,GAEOC,EAAO8B,SAGlB,QACI,OAAO/B,ICvBb2J,G,4LAEE5B,KAAKxH,MAAMqJ,mBAAmB7B,KAAKxH,MAAMrD,U,+BAWzC,OACI,6BACI,kBAAC,GAAW6K,KAAKxH,Y,GAfH0H,IAAMC,WA+BrBE,gBAVO,SAACpI,GACnB,MAAO,CACH9C,OAAQ8C,EAAMN,KAAKxC,OACnBW,QAASmC,EAAMN,KAAK7B,QACpBrB,MAAOwD,EAAMN,KAAKlD,MAClBqM,OAAQ7I,EAAMN,KAAKmJ,UAKa,CAAChM,OD6BnB,kBAAM,SAAOsC,GAAP,SAAAC,EAAAC,OAAA,kEAAAD,EAAA,MAClB9C,IAAQO,UADU,OAExBsC,EAASoK,GAAgB,KAAM,KAAM,MAAM,IAFnB,uCC7BqBK,mBDKf,SAAC1M,GAAD,OAAY,SAAOiC,GAAP,eAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACrBpC,IAAWC,eAAeC,IADL,OACtCnB,EADsC,OAE1CoD,EAJ4C,CAACJ,KAlCnB,4CAkCgDgD,QAAS,CAAClE,QAIxD9B,EAASC,QAFK,wCCL/BoM,CAAuDuB,I,iGCiBhEE,GAAiBlH,aAAU,CAC7BC,KAAM,SADaD,EA5BL,SAAC,GAAmD,IAAlDE,EAAiD,EAAjDA,aAAcnC,EAAmC,EAAnCA,MAAO4I,EAA4B,EAA5BA,WAAYE,EAAgB,EAAhBA,WACjD,OACI,0BAAMxG,SAAUH,EAAclC,UAAWmJ,KAAWC,WAChD,uCACC/I,aAAY,QAAS,QAASF,KAAO,CAACkJ,MAAW,CAACjL,KAAM,SACxDiC,aAAY,WAAY,WAAYF,KAAO,CAACkJ,MAAW,CAACjL,KAAM,aAC/D,yBAAK4B,UAAWmJ,KAAWG,UACtBjJ,aAAY,aAAc,KAAM,QAAS,KAAM,CAACjC,KAAM,YAAa,gBAExE,yBAAK4B,UAAWC,KAAOqC,YAClBvC,GAEL,yBAAKC,UAAWmJ,KAAWlN,SACvB,6BACI,yBAAKiK,IAAKyC,IACTA,GAAc,yBAAKzC,IAAKqD,KAAQ9D,QAASoD,EAAY7I,UAAWmJ,KAAWK,aAEhF,6BACKb,GAActI,aAAY,UAAW,UAAWF,KAAO,CAACkJ,SAGjE,6BACI,4BAAQrJ,UAAWmJ,KAAWM,UAA9B,gBAiBDhC,gBAPS,SAACpI,GACrB,MAAO,CACH6I,OAAQ7I,EAAMN,KAAKmJ,OACnBS,WAAYtJ,EAAMN,KAAK4J,cAIS,CAAC9M,MFXpB,SAACC,EAAOC,EAAUC,EAAYC,GAA9B,OAA0C,SAAOuC,GAAP,iBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MACtC9C,IAAQE,MAAMC,EAAOC,EAAUC,EAAYC,IADL,OAE1B,KAD7Bb,EADuD,QAE9CC,KAAKsD,WACdH,EAAS5C,OAEwB,KAA7BR,EAASC,KAAKsD,YACdH,EAASqK,MAETrL,EAAUpC,EAASC,KAAKuD,SAAS8K,OAAS,EAAItO,EAASC,KAAKuD,SAAS,GAAK,aAC9EJ,EAASQ,aAAW,QAAS,CAACC,OAAQzB,MATiB,uCEWfqL,eAAjCpB,EArDD,SAAC,GAA6C,IAA5C5L,EAA2C,EAA3CA,MAAOqM,EAAoC,EAApCA,OAAQS,EAA4B,EAA5BA,WAAYE,EAAgB,EAAhBA,WAIvC,OAAIX,EACO,kBAAC,IAAD,CAAUvF,GAAI,aAGrB,yBAAK3C,UAAWmJ,KAAW5D,SACvB,kBAAC2D,GAAD,CAAgB7G,SART,SAAC,GAAyD,IAAxDvG,EAAuD,EAAvDA,MAAOC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,WAAYC,EAA0B,EAA1BA,QAA0B,4DACpEJ,EAAMC,EAAOC,EAAUC,EAAYC,IAOK0M,WAAYA,EAAYE,WAAYA,QClB9Ec,GAAsB,yCAExB5L,GAAe,CACf6L,aAAa,GAwBFC,GArBI,WAAmC,IAAlCxK,EAAiC,uDAAzBtB,GAAcuB,EAAW,uCACjD,OAAQA,EAAOlB,MACX,KAAKuL,GACD,OAAO,eACAtK,EADP,CAEIuK,aAAa,IAGrB,QACI,OAAOvK,I,kDCPfyK,GAAWC,2BAAgB,CAC3BC,YAAa5K,KACbmC,YAAaK,KACb+B,MAAOU,EACPtF,KAAMgK,GACN9G,KAAMgI,KACNC,IAAKL,KAIMM,GAFHC,uBAAYN,GAAUO,+BAAoBC,2BAAgBC,QChBzDC,GAAe,SAACjD,GACzB,OAAO,SAAC3H,GACJ,OAAO,kBAAC,WAAD,CAAU6K,SAAU,4CACvB,kBAAClD,EAAc3H,MCUrB8K,I,OAAmBpD,IAAMqD,MAAK,kBAAM,kCACpCC,GAAmBtD,IAAMqD,MAAK,kBAAM,iCAEpCE,G,4LAEEzD,KAAKxH,MAAMkL,kB,+BAIX,OAAK1D,KAAKxH,MAAMgK,YAIZ,oCACI,yBAAK5J,UAAU,cACVoH,KAAKxH,MAAMsI,QAAU,kBAAC,GAAD,MACtB,yBAAKlI,UAAU,uBACX,kBAAC,IAAD,CAAO+K,OAAK,EAACC,MAAI,EAACrI,GAAG,IAAIsI,OAAQT,GAAaI,MAC9C,kBAAC,IAAD,CAAOI,KAAK,oBAAoBC,OAAQT,GAAaI,MACrD,kBAAC,IAAD,CAAOI,KAAK,oBAAoBC,OAAQT,GAAaE,MACrD,kBAAC,IAAD,CAAOM,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,YAXxC,kBAAC5D,EAAA,EAAD,U,GAPDE,aA+Bd2D,GAAe1D,mBAAQ2D,IAAY1D,aALf,SAACpI,GAAD,MAAY,CAChCuK,YAAavK,EAAM6K,IAAIN,YACvB1B,OAAQ7I,EAAMN,KAAKmJ,UAGyC,CAAC4C,cH3BpC,kBAAM,SAAOtM,GAAP,eAAAC,EAAAC,OAAA,uDAC3B0M,EAAU5M,EAAS5C,MADQ,WAAA6C,EAAA,MAEzBS,QAAQmM,IAAI,CAACD,KAFY,OAG/B5M,EALqC,CAACJ,KAAMuL,KAEb,yCG2BhBnC,CAA+DqD,IAYnES,GAVC,SAAC1L,GACb,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUuK,MAAOA,IACb,kBAACe,GAAD,SChDhBK,IAASN,OACL,kBAAC,GAAD,MACEO,SAASC,eAAe,U,mBCR9B5J,EAAOC,QAAU,CAAC,cAAgB,8BAA8B,KAAO,qBAAqB,WAAa,6B,mBCAzGD,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,WAAa,mC,mBCAnED,EAAOC,QAAU,CAAC,KAAO,mBAAmB,MAAQ,oBAAoB,OAAS,qBAAqB,OAAS,qBAAqB,QAAU,sBAAsB,SAAW,yB,mBCA/KD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,UAAY,yBAAyB,SAAW,wBAAwB,SAAW,wBAAwB,QAAU,uBAAuB,UAAY,2B,gCCD3M,wDAaeuF,IATC,SAACzH,GACb,OACI,yBAAKI,UAAWqI,IAAM9C,SAClB,yBAAKW,IAAKwF,S,mBCNtB7J,EAAOC,QAAU,CAAC,QAAU,2BAA2B,UAAY,6BAA6B,WAAa,8BAA8B,QAAU,2BAA2B,QAAU,6B,gCCD1L,6EAEauH,EAAW,SAAAsC,GACpB,IAAIA,EACJ,MAAO,qBAGEC,EAAmB,SAAAC,GAAS,OAAI,SAAAF,GACzC,GAAIA,EAAMjC,OAASmC,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,c,mBCPlChK,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,UAAY,2B,mBCA5FD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,aAAe,6BAA6B,aAAe,+B,mBCD3JD,EAAOC,QAAU,IAA0B,0D,mBCC3CD,EAAOC,QAAU,CAAC,QAAU,sCAAsC,WAAa,2C,8ICG3EgK,EAA6B,SAACzM,GAAD,MAAY,CACzC6I,OAAQ7I,EAAMN,KAAKmJ,SAGVL,EAAmB,SAACN,GAAe,IACtCwE,EADqC,iLAGnC,OAAI3E,KAAKxH,MAAMsI,OACR,kBAACX,EAAcH,KAAKxH,OADG,kBAAC,IAAD,CAAU+C,GAAG,eAHR,GACX2E,IAAMC,WAOtC,OADqCE,YAAQqE,EAARrE,CAAoCsE,M","file":"static/js/main.78dc27c5.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '59ead4fb-0c13-4727-ad30-0a30cf50ed9b'\r\n    }\r\n})\r\n\r\nexport const usersAPI ={\r\n    getUsers: (currentPage, sizePage) => {\r\n        return instance.get(`users?page=${currentPage}&count=${sizePage}`,\r\n        ).then(response=> {\r\n            return  response.data\r\n        })\r\n    },\r\n    unfollowUsers: (id)=>{\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    followUsers: (id)=>{\r\n        return instance.post(`follow/${id}`, {})\r\n    }\r\n};\r\n\r\nexport const authAPI ={\r\n    getAuthUserData: () => {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login: (email, password, rememberMe, captcha=null) => {\r\n      return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout: () => {\r\n      return instance.delete(`auth/login`)\r\n    },\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptcha: () => {\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile: (userId) => {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getUserStatus: (userId) => {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus: (status) => {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto: (file) => {\r\n        const formData = new FormData ();\r\n        formData.append('image', file);\r\n        return instance.put (`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile: (profile) => {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n\r\nexport const dialogsApi = {\r\n    getDialogs(){\r\n        return instance.get('dialogs')\r\n    },\r\n    getMessages(userId){\r\n        return instance.get(`dialogs/${userId}/messages`)\r\n    },\r\n    startDialog(userId){\r\n        return instance.put(`dialogs/${userId}`)\r\n    },\r\n    sendMessage(userId, message){\r\n        return instance.post(`dialogs/${userId}/messages`, {body: message})\r\n    }\r\n};\r\n","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'social-network/profilePage/ADD_POST';\r\nconst SET_USER_PROFILE = 'social-network/profilePage/SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'social-network/profilePage/SET_USER_STATUS';\r\nconst DELETE_POST = 'social-network/profilePage/DELETE_POST';\r\nconst SAVE_PHOTO = 'social-network/profilePage/SAVE_PHOTO';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: '1', post: 'How are you my dear friends', likeCounts: '60'},\r\n        {id: '2', post: 'Its my first project', likeCounts: '67'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let post = {\r\n                id: '3', post: action.newTextPost, likeCounts: '0'\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, post],\r\n            };\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return  {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addPost = (newTextPost) => ({type: ADD_POST, newTextPost});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n};\r\nexport const updateUserStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateUserStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(status))\r\n    } else {\r\n        dispatch(setUserStatus(response.data.messages))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if(response.data.resultCode === 0){\r\n        dispatch(getUserProfile(userId))\r\n    }else {\r\n        dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n        return Promise.reject(response.data.messages[0])\r\n    }\r\n};\r\n\r\nexport default profilePageReducer;\r\n\r\n\r\n","import React from 'react'\r\nimport styles from './FormsControl.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../utilits/validators\";\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return (\r\n        <div>\r\n            <div className={hasError ? styles.error : ''}>\r\n                {props.children}\r\n            </div>\r\n            <div className={styles.error}>\r\n                {hasError && <span>{meta.error}</span>}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n};\r\n\r\nexport const createField = (name, placeholder, component, validators, props = {}, text = '') => (\r\n    <div>\r\n        <Field name={name} placeholder={placeholder} component={component} validate = {validators} {...props}/> {text}\r\n    </div>\r\n);","import {dialogsApi} from \"../api/api\";\r\n\r\nconst GET_DIALOGS_SUCCESS = 'social-network/dialogsPage/GET_DIALOGS_SUCCESS';\r\nconst GET_MESSAGES_SUCCESS = 'social-network/dialogsPage/GET_MESSAGES_SUCCESS';\r\nconst SET_CURRENT_DIALOG = 'social-network/dialogsPage/SET_CURRENT_DIALOG';\r\nconst SEND_MESSAGE_SUCCESS = 'social-network/dialogsPage/SEND_MESSAGE_SUCCESS';\r\nconst PUT_UP_DIALOG = 'social-network/dialogsPage/PUT_UP_DIALOG';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    selectedDialogId: null\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_DIALOGS_SUCCESS:\r\n        case GET_MESSAGES_SUCCESS:\r\n        case SET_CURRENT_DIALOG:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case PUT_UP_DIALOG:\r\n            return {\r\n                ...state,\r\n                dialogs: [state.dialogs.find((d) => d.id === action.userId), ...state.dialogs.filter(d=> d.id !== action.userId)]\r\n            }\r\n       case SEND_MESSAGE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, action.message]\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const getDialogsSuccess = (dialogs) => ({type: GET_DIALOGS_SUCCESS, payload: {dialogs}});\r\nexport const getMessagesSuccess = (messages) => ({type: GET_MESSAGES_SUCCESS, payload: {messages}});\r\nexport const putUpDialog = (userId) => ({type: PUT_UP_DIALOG, userId});\r\nexport const setCurrentDialog = (selectedDialogId) => ({type: GET_MESSAGES_SUCCESS, payload: {selectedDialogId}});\r\n\r\n\r\nexport const sendMessageSuccess = (message) => ({type: SEND_MESSAGE_SUCCESS, message});\r\n\r\nexport const getDialogs = () => async (dispatch) => {\r\n    let response = await dialogsApi.getDialogs();\r\n    dispatch(getDialogsSuccess(response.data))\r\n};\r\nexport const getMessages = (userId) => async (dispatch) => {\r\n    let response = await dialogsApi.getMessages(userId);\r\n    dispatch(getMessagesSuccess(response.data.items))\r\n};\r\nexport const startDialog = (userId) => async (dispatch, getState) => {\r\n    await dialogsApi.startDialog(userId);\r\n    if (getState().dialogsPage.dialogs.find(d => d.id === userId)) {\r\n        dispatch(putUpDialog(userId))\r\n    } else {\r\n        dispatch(getDialogs())\r\n    }\r\n};\r\nexport const sendMessage = (userId, message) => async (dispatch, getState) => {\r\n    let response = await dialogsApi.sendMessage(userId, message);\r\n    dispatch(sendMessageSuccess(response.data.data.message));\r\n    if (getState().dialogsPage.dialogs.find(d => d.id === userId)) {\r\n        dispatch(putUpDialog(userId))\r\n    } else {\r\n        dispatch(getDialogs())\r\n    }\r\n};\r\n\r\nexport const init = (userId) => async (dispatch) => {\r\n    if(!!userId){\r\n        await dispatch(startDialog(userId));\r\n        dispatch(getDialogs());\r\n        dispatch(getMessages(userId));\r\n        dispatch(setCurrentDialog(userId));\r\n    }else {\r\n        dispatch(getDialogs());\r\n    }\r\n\r\n\r\n};\r\n\r\nexport const update = (userId) => async (dispatch) => {\r\n        dispatch(getMessages(userId));\r\n        dispatch(setCurrentDialog(userId))\r\n};\r\n\r\nexport default dialogsPageReducer;","module.exports = __webpack_public_path__ + \"static/media/Spinner-1s-200px.b0fb2661.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Preloader_wrapper__k9nKN\"};","module.exports = __webpack_public_path__ + \"static/media/reload.d36f9122.png\";","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input, Textarea} from \"../../Common/FormsControl\";\r\nimport s from './ProfileDataReduxForm.module.css';\r\nimport styles from \"../../Common/FormsControl.module.css\";\r\n\r\nconst ProfileDataForm = ({handleSubmit, profile, error}) => {\r\n    return <div className={s.content}>\r\n        <form onSubmit={handleSubmit}>\r\n            {error && <div className={styles.loginError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <b>Full Name: </b> {createField('fullName', 'Full Name', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div>\r\n                <b>About me: </b> {createField('aboutMe', 'About me', Input, null, {type: 'text'})}\r\n            </div>\r\n            <div className={s.lookForJob}>\r\n                <b>Looking for a job: </b> {createField('lookingForAJob', null, Input, null, {type: 'checkbox'})}\r\n            </div>\r\n            <b>Looking for a job\r\n                description: </b> {createField('lookingForAJobDescription', 'Looking for a job description', Input, null, {type: 'text'})}\r\n            <div>\r\n                <button>save</button>\r\n            </div>\r\n            {/*<div>\r\n                <b>Contacts: </b>{Object.keys(profile.contacts).map(key => {\r\n                return <div key={key} className={s.contact}>\r\n                    <b>{key}: </b> {createField('contacts.' + key, key, Input)}\r\n                </div>\r\n            })}\r\n            </div>*/}\r\n        </form>\r\n    </div>\r\n};\r\n\r\nconst ProfileDataReduxForm = reduxForm({\r\n    form: 'edit-profile'\r\n})(ProfileDataForm);\r\n\r\nexport default ProfileDataReduxForm","import React from 'react';\nimport s from './NavBar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst NavBar = () => {\n    return (\n        <div className={s.navBarWrapper}>\n            <div className={s.item}>\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className={s.item}>\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n        </div>\n    )\n}\n\nexport default NavBar;","export const updateObjectInArray = (items, itemsId, objPropName, newObjProps) => {\r\n   return  items.map(u => {\r\n        if (u[objPropName] === itemsId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../components/utilits/objectsHelper\";\r\n\r\nconst FOLLOW = 'social-network/userPage/FOLLOW';\r\nconst UNFOLLOW = 'social-network/userPage/UNFOLLOW';\r\nconst SET_USERS = 'social-network/userPage/SET_USERS';\r\nconst SET_PAGES = 'social-network/userPage/SET_PAGES';\r\nconst TOTAL_COUNT_USERS = 'social-network/userPage/TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'social-network/userPage/TOGGLE_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'social-network/userPage/FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCountItems: 50,\r\n    sizePage: 12,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    portionSize: 10\r\n};\r\n\r\nconst usersPageReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            };\r\n        case SET_PAGES: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber\r\n            }\r\n        }\r\n        case TOTAL_COUNT_USERS: {\r\n            return {\r\n                ...state,\r\n                totalCountItems: action.countUsers\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching ?\r\n                    [...state.followingInProgress, action.userId] :\r\n                    state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unFollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setPages = (pageNumber) => ({type: SET_PAGES, pageNumber});\r\nexport const setTotalCountUsers = (countUsers) => ({type: TOTAL_COUNT_USERS, countUsers});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const setFollowingInProgress = (isFetching, userId) => ({type: FOLLOWING_IN_PROGRESS, isFetching, userId});\r\n\r\nexport const requestUsers = (currentPage, sizePage) => async (dispatch) => {\r\n    dispatch(setIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, sizePage);\r\n    dispatch(setIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalCountUsers(data.totalCount));\r\n    dispatch(setPages(currentPage))\r\n};\r\n\r\nconst followUnFollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    let response = await apiMethod;\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator)\r\n    }\r\n    dispatch(setFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unFollow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.unfollowUsers(userId), unFollowSuccess(userId))\r\n};\r\n\r\nexport const follow = (userId) => (dispatch) => {\r\n    followUnFollowFlow(dispatch, userId, usersAPI.followUsers(userId), followSuccess(userId))\r\n};\r\n\r\n\r\nexport default usersPageReducer;","import React, {useState} from 'react'\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalCountItems, sizePage, currentPage, onSetPages, portionSize}) => {\r\n    let countPages = Math.ceil(totalCountItems / sizePage);\r\n    let pages = [];\r\n    for (let i = 1; i <= countPages; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(countPages / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftBorderPortion = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorderPortion = portionNumber * portionSize;\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            {portionNumber > 1 &&\r\n            <button className={styles.prevBtn} onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>{'<'}</button>\r\n            }\r\n            {pages.filter(p => p >= leftBorderPortion && p <= rightBorderPortion).map(p => {\r\n                return <div className={styles.usersPage}><button className={currentPage===p && styles.activePage} onClick={() => {\r\n                    onSetPages(p)\r\n                }}>{p}</button></div>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button className={styles.nextBtn} onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>{'>'}</button>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from \"./User.module.css\";\r\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({userId, photos, followed, name, status, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.user}>\r\n            <div>\r\n                <NavLink to={`/profile/${userId}`}>\r\n                    <img className={styles.photo} src={photos.small !== null ? photos.small : userPhoto}/>\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {followed ? <button className={styles.unfBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        unFollow(userId)\r\n                    }}>Unfollow</button> :\r\n                    <button className={styles.follBtn} disabled={followingInProgress.some(id => id === userId)} onClick={() => {\r\n                        follow(userId)\r\n                    }}>Follow</button>}\r\n            </div>\r\n            <span>\r\n                        <div className={styles.fullName}>\r\n                            {name}\r\n                        </div>\r\n                        <div className={styles.status}>\r\n                            {status}\r\n                        </div>\r\n                    </span>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from \"./Users.module.css\";\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalCountItems, portionSize, sizePage, currentPage, onSetPages, users, followingInProgress, unFollow, follow}) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n            <div className={styles.paginator}>\r\n                <Paginator totalCountItems={totalCountItems} sizePage={sizePage}\r\n                           currentPage={currentPage} onSetPages={onSetPages}\r\n                           portionSize={portionSize}\r\n                />\r\n            </div>\r\n            <div className={styles.users}>\r\n                {\r\n                    users.map(u => <User userId={u.id} status={u.status} name={u.name} followed={u.followed}\r\n                                         photos={u.photos}\r\n                                         followingInProgress={followingInProgress}\r\n                                         unFollow={unFollow}\r\n                                         follow={follow}\r\n                                         className={styles.users}/>)\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.users.users\r\n};\r\n\r\nexport const getTotalCountUsers = (state) => {\r\n   return state.users.totalCountItems\r\n};\r\n\r\nexport const getSizePage = (state) => {\r\n    return state.users.sizePage\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress\r\n};\r\nexport const getPortionSize = (state) => {\r\n    return state.users.portionSize\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {follow, requestUsers, unFollow} from \"../../redux/usersPageReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching, getPortionSize,\r\n    getSizePage,\r\n    getTotalCountUsers, getUsers\r\n} from \"../../redux/usersSelectors\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.sizePage)\r\n    }\r\n\r\n    onSetPages = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.sizePage)\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div>{this.props.isFetching ? <Preloader/> : null} </div>\r\n                <div>\r\n                    <Users totalCountItems={this.props.totalCountItems}\r\n                           portionSize={this.props.portionSize}\r\n                           sizePage={this.props.sizePage}\r\n                           currentPage={this.props.currentPage}\r\n                           onSetPages={this.onSetPages}\r\n                           users={this.props.users}\r\n                           unFollow={this.props.unFollow}\r\n                           follow={this.props.follow}\r\n                           followingInProgress={this.props.followingInProgress}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        totalCountItems: getTotalCountUsers(state),\r\n        sizePage: getSizePage(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        portionSize: getPortionSize(state)\r\n    }\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, {\r\n        follow,\r\n        unFollow,\r\n        requestUsers\r\n    }),\r\n    withAuthRedirect)\r\n(UsersContainer);","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\nimport Navbar from \"./Navbar/NavBar\";\nimport userPhoto from \"../../images/users-vector-icon-png_260862.jpg\";\nimport Preloader from \"../Common/Preloader/Preloader\";\n\nconst Header = (props) => {\n    if (!props.profile) {\n        return <Preloader/>\n    }\n    return (\n        <div className={s.header}>\n            <div className={s.headerContent}>\n                <img src='https://avatanplus.com/files/resources/mid/5cd273c518f1216a961439ee.png'/>\n                <div>\n                    <Navbar/>\n                </div>\n                <div className={s.loginWrapper}>\n                    {props.isAuth ?\n                        (  <div className={s.loginContent}>\n                                <img src={props.profile.photos.small || userPhoto} alt=\"profile Photo\"/>\n                                <div><span style={{color: '#fffffe', fontWeight: 'bold', fontSize: '14px'}}>{props.login}</span><a onClick={props.logout}>Log out</a></div>\n                            </div>\n                        ) :\n                        <NavLink to={'/login'}>Login</NavLink>}\n                </div>\n            </div>\n        </div>\n    )\n};\n\nexport default Header;","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA';\r\nconst SET_CAPTCHA_SUCCESS = 'social-network/auth/SET_CAPTCHA_SUCCESS';\r\nconst SET_AUTH_USER_PROFILE = 'social-network/auth/SET_AUTH_USER_PROFILE';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n    profile: null\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case SET_CAPTCHA_SUCCESS:\r\n        case SET_AUTH_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const setAuthUserData = (userId, login, email, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, login, email, isAuth}\r\n});\r\nexport const setCaptchaSuccess = (captchaUrl) => ({\r\n    type: SET_CAPTCHA_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\nexport const setAuthUserProfile = (profile) => ({type: SET_AUTH_USER_PROFILE, payload: {profile}});\r\n\r\nexport const getAuthUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getUserProfile(userId);\r\n    dispatch(setAuthUserProfile(response.data));\r\n};\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.getAuthUserData();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, login, email, true))\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(setCaptcha())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n    await authAPI.logout();\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n};\r\n\r\nexport const setCaptcha = () => async (dispatch) => {\r\n    const response = await securityAPI.getCaptcha();\r\n    dispatch(setCaptchaSuccess(response.data.url))\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getAuthUserProfile, logout} from \"../../redux/authReducer\";\n\nclass HeaderContainer extends React.Component {\n    componentDidMount() {\n        this.props.getAuthUserProfile(this.props.userId)\n    }\n\n   /* componentDidUpdate(prevProps, prevState, snapshot) {\n        debugger\n        if(prevProps.profile.photos.small !== this.props.profile.photos.small){\n            this.props.getAuthUserProfile(this.props.userId)\n        }\n    }*/\n\n    render() {\n        return (\n            <div>\n                <Header {...this.props}/>\n            </div>\n        )\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        userId: state.auth.userId,\n        profile: state.auth.profile,\n        login: state.auth.login,\n        isAuth: state.auth.isAuth\n    }\n\n};\n\nexport default connect(mapStateToProps, {logout, getAuthUserProfile})(HeaderContainer);","import React from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControl\";\r\nimport {required} from \"../utilits/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, setCaptcha} from \"../../redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport styles from \"../Common/FormsControl.module.css\"\r\nimport styleLogin from \"./Login.module.css\"\r\nimport reload from '../../images/reload.png'\r\n\r\nconst Login = ({login, isAuth, captchaUrl, setCaptcha}) => {\r\n    let onSubmit = ({email, password, rememberMe, captcha, ...formData}) => {\r\n        login(email, password, rememberMe, captcha)\r\n    };\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div className={styleLogin.wrapper}>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} setCaptcha={setCaptcha}/>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl, setCaptcha}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit} className={styleLogin.loginForm}>\r\n            <h2>Sign in</h2>\r\n            {createField('email', 'Email', Input, [required], {type: 'text'})}\r\n            {createField('password', 'Password', Input, [required], {type: 'password'})}\r\n            <div className={styleLogin.checkbox}>\r\n                {createField('rememberMe', null, 'input', null, {type: 'checkbox'}, 'Remember me')}\r\n            </div>\r\n            <div className={styles.loginError}>\r\n                {error}\r\n            </div>\r\n            <div className={styleLogin.captcha}>\r\n                <div>\r\n                    <img src={captchaUrl}/>\r\n                    {captchaUrl && <img src={reload} onClick={setCaptcha} className={styleLogin.reloadImg}/>}\r\n                </div>\r\n                <div>\r\n                    {captchaUrl && createField('captcha', 'captcha', Input, [required])}\r\n                </div>\r\n            </div>\r\n            <div >\r\n                <button className={styleLogin.loginBtn}>Sign in</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {login, setCaptcha})(Login)\r\n","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'social-network/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => async (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    await Promise.all([promise]);\r\n    dispatch(initializedSuccess())\r\n};\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profilePageReducer from \"./profilePageReducer\";\r\nimport dialogsPageReducer from \"./dialogsPageReducer\";\r\nimport usersPageReducer from \"./usersPageReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profilePageReducer,\r\n    dialogsPage: dialogsPageReducer,\r\n    users: usersPageReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;","import React, {Suspense} from 'react'\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props}/>\r\n        </Suspense>\r\n    }\r\n};","import React, {Component, Suspense} from 'react';\nimport './App.css';\nimport Navbar from \"./components/Header/Navbar/NavBar\";\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/appReducer\";\nimport Preloader from \"./components/Common/Preloader/Preloader\";\nimport store from \"./redux/reduxStore\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport ProfileDataReduxForm from \"./components/Profil/Description/ProfileDataReduxForm\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profil/ProfileContainer'));\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <>\n                <div className='appWrapper'>\n                    {this.props.isAuth && <HeaderContainer/>}\n                    <div className='app_wrapper_profile'>\n                        <Route exact path to='/' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                        <Route path='/dialogs/:userId?' render={withSuspense(DialogsContainer)}/>\n                        <Route path='/users' render={() => <UsersContainer/>}/>\n                        <Route path='/login' render={() => <Login/>}/>\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized,\n    isAuth: state.auth.isAuth\n});\n\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\n\nlet SocialApp = (props) => {\n    return (\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    )\n};\n\nexport default SocialApp;","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./App\";\n\n\nReactDOM.render(\n    <SocialApp/>\n    , document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navBarWrapper\":\"NavBar_navBarWrapper__3_9uH\",\"item\":\"NavBar_item__-7zU1\",\"activeLink\":\"NavBar_activeLink__2FzHu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"FormsControl_error__1S70_\",\"loginError\":\"FormsControl_loginError__2m793\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__8qHAB\",\"photo\":\"User_photo__26D2M\",\"status\":\"User_status__3rzYE\",\"unfBtn\":\"User_unfBtn__1axb2\",\"follBtn\":\"User_follBtn__33eE9\",\"fullName\":\"User_fullName__1fAcY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__2OAZh\",\"loginForm\":\"Login_loginForm__2_d08\",\"checkbox\":\"Login_checkbox__32Lmv\",\"loginBtn\":\"Login_loginBtn__3fegC\",\"captcha\":\"Login_captcha__MSo3R\",\"reloadImg\":\"Login_reloadImg__BPIGA\"};","import React from 'react';\r\nimport preloader from \"../../../images/Spinner-1s-200px.svg\";\r\nimport style from \"./Preloader.module.css\"\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <img src={preloader}/>\r\n        </div>\r\n        )\r\n\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__1aiAx\",\"usersPage\":\"Paginator_usersPage__3bBdp\",\"activePage\":\"Paginator_activePage__1uTtr\",\"nextBtn\":\"Paginator_nextBtn__25Tfy\",\"prevBtn\":\"Paginator_prevBtn__1TW5f\"};","import React from 'react'\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required'\r\n};\r\n\r\nexport const maxLengthCreator = maxLength => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__2tQjr\",\"users\":\"Users_users__tFwSo\",\"paginator\":\"Users_paginator__TFNfs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__25gid\",\"headerContent\":\"Header_headerContent__GGuQ1\",\"loginWrapper\":\"Header_loginWrapper__1Xyon\",\"loginContent\":\"Header_loginContent__MtDav\"};","module.exports = __webpack_public_path__ + \"static/media/users-vector-icon-png_260862.13988554.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileDataReduxForm_content__DSZqv\",\"lookForJob\":\"ProfileDataReduxForm_lookForJob__38x54\"};","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props}/>\r\n}\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent\r\n};"],"sourceRoot":""}